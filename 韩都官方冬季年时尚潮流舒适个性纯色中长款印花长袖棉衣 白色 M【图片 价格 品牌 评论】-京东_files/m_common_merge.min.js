!function(){function u(e,t){if(e)if(document.referrer)o();else if(t){var n=history.state;n&&null!=n?o():0<history.length?o():window.location.href="//m.jd.com/"}else window.location.href="//m.jd.com/";else o()}function o(){var e=window.location.href;/#top/.test(e)?window.history.go(-2):window.history.back()}function a(e){if(function(e,t,n,o,i){var a=e+"="+escape(t);if(""!=n){var r=new Date;r.setTime(r.getTime()+24*n*3600*1e3),a+=";expires="+r.toGMTString()}""!=o&&(a+=";path="+o);""!=i&&(a+=";domain="+i);document.cookie=a}("pcm","1",1,"","jd.com"),"//www.jd.com/#m"!=(t=e))window.location.href=t;else{var t;if(0==(t=document.location.href).indexOf("//m.jd.com/sale/mall")){var n=t.replace("//m.jd.com/sale/mall","//sale.jd.com/mall");return n+="#m",void(window.location.href=n)}if(0==t.indexOf("//m.jd.com/sale/act")){n=t.replace("//m.jd.com/sale/act","//sale.jd.com/act");return n+="#m",void(window.location.href=n)}window.location.href="//www.jd.com/#m"}}MCommonHeaderBottom=function(e){var U=1,d=!0,n={useDefaultImp:!0,css:["//wq.360buyimg.com/fd/h5/wxsq_dev/m_common/css/commonHeader.min.css?v=2.3.13"],js:[]};e&&("boolean"==typeof e.useDefaultImp&&(n.useDefaultImp=e.useDefaultImp),e.css&&(n.css=e.css),e.js&&(n.js=e.js));var L={_isIncludedCss:!1,debug:!1,getSid:function(e,t){return this._isNotBlank(t)?e+"sid="+t:""},ajax:function(n){var o;try{o=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{o=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){o=new XMLHttpRequest}}if(o.ajaxRunError=!0,n.withCredentials)try{o.withCredentials=!0}catch(e){}try{o.open(n.method,n.url,n.async),o.onreadystatechange=function(){var e=n.source?n.source:null;if(4==o.readyState)if(200==o.status){o.ajaxRunError=!1;var t=o.responseText;n.success.call(e,t)}else n.error.call(e)},o.send(null)}catch(e){}},callbackNameCount:{},letterMap:["Z","A","B","C","D","E","F","G","H","I"],sendJs:function(e,t){var a=!1,n=document.createElement("script");function o(){n&&(n.onload=n.onreadystatechange=n.onerror=null,n.parentNode&&n.parentNode.removeChild(n),n=null)}t=t||{},n.charset=t.charset||"utf-8",n.onload=n.onreadystatechange=function(){(/loaded|complete/i.test(this.readyState)||-1==navigator.userAgent.toLowerCase().indexOf("msie"))&&(t.onLoad&&t.onLoad(),a||(t.onError&&t.onError(),window.onerror&&window.onerror("","","","",{stack:"servererror:"+(e||"").split("?")[0]})),o())},n.onerror=function(){window.__reloadResource&&__reloadResource(n),t.onError&&t.onError(),o()},e=function(e){var n,o,t,i=e.replace(/callback=([^&]+)/,function(e,t){return"callback="+(o=function(e){L.callbackNameCount[e]?L.callbackNameCount[e]+=1:L.callbackNameCount[e]=1;return e+function(e){for(var t=(e+"").split(""),n=[],o=0;o<t.length;o++)n.push(L.letterMap[t[o]]);return n.join("")}(L.callbackNameCount[e])}(n=t))});n&&window[n]?(e=i,t=window[n],window[o]=function(e){a=!0,t(e)}):a=!0;return e}(e),n.src=e,t.defer&&(n.defer="defer"),t.async&&(n.async="async"),t.crossorigin&&n.setAttribute("crossorigin","true"),document.getElementsByTagName("head")[0].appendChild(n)},getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var o=t[n].split("=");if(e==o[0])return o[1]}return""},getParam:function(e,t,n){return void 0!==n?this._isNotBlank(e)?"&"+t+"="+n:"?"+t+"="+n:""},templeteOutput:function(e){var t=e.templete,n=e.param,o=t;for(var i in n)o=o.replace(new RegExp("{"+i+"}","g"),n[i]);return o},hasClass:function(e,t){return!!e&&e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e&&(this.hasClass(e,t)||(e.className+=" "+t))},removeClass:function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},removeClassBatch:function(e,t){for(var n in e)this.removeClass(this.getElementById(e[n]),t)},includeCss:function(){if(!this._isIncludedCss){for(var e=0;e<n.css.length;e++)this._includeCss(n.css[e]);this._isIncludedCss=!0}},innerHtml:function(e){var t=e.sid,n=e.htmlStr,o=e.prefix,i=e.divId,a=this.templeteOutput({templete:n,param:{prefix:o,sid:t}});this.getElementById(i).innerHTML=a},getElementById:function(e){return document.getElementById(e)},addEvent:function(e,t,n){var o=this.getElementById(e);o&&o.addEventListener(t,n,!1)},removeEvent:function(e,t,n){var o=this.getElementById(e);o&&o.removeEventListener(t,n,!1)},divShow:function(e){e&&(e.style.display="")},divHide:function(e){e&&(e.style.display="none")},getScrollTop:function(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void e.style[t]},getFixedOrAbsPos:function(e){for(;e&&e!==document.body;){var t=L.getStyle(e,"position");if("fixed"==t||"absolute"==t)return{pos:t,ele:e};e=e.parentNode}return null},loadJS:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){this.readyState&&"loading"==this.readyState||t()},n.onerror=function(){o.removeChild(n),t()};var o=document.getElementsByTagName("head")[0];o.appendChild(n)},runFunction:function(e){e&&e()},loadDownloadAppPlugIn:function(e){n.useDefaultImp&&this.loadJS(n.js[1],function(){e()})},executeDefaultFunCtion:function(e,t){e&&n.useDefaultImp&&(t?e(t):e())},_includeCss:function(e){if(function(e,t){for(var n=0;n<e.length;n++)if(e[n].href&&-1!=e[n].href.indexOf(t))return!0;return!1}(document.getElementsByTagName("link"),e))return!0;var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("charset","utf-8"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)},_isNotBlank:function(e){return!(!e||""==e)},printDeugInfo:function(e){this.debug&&console.log(e)}},p=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),m=-1<navigator.userAgent.indexOf("Android")||-1<navigator.userAgent.indexOf("Linux"),D={shortcutIds:[],active_id:"tongtianta1",active_level:1,commonShare:null,args:{hrederId:"m_common_header",sid:"",isUseCommonHeader:!0,navList:[{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAAEhlFeZAAAABGdBTUEAALGPC/xhBQAAAptJREFUSA3Nls+rTVEUx++575UfPeRHEUkUZaIkZaKeTIyMlFIGMiADRSlDMzMDZWZm8vwDBlKiGFBSlIS8F1FGUsLrecfnu+217z777HPuub2rrPq+tdb3+93r/Nznvl4vF2VZLuT4HkJZmKLG6nzG8NIpqbUvNiXDDAnEx0BYAfndastwD6wOI7VcIcHypHfNeeJQJM55bZAwnR10UYVwTi35UUQ74mpMYHjleopbsWA1/Cer/0VmvsI9SWU1rcdBPykTcbfVGIuYL4PFhHsH9yzmKjXiDfCrQiYN+lPwPtA0F8HXQHQo8N8Bb4OVpnITaN0LoRxMFKnPaSlpvWUbEPfuVTfBMga9jnbTFn1v8vDMgimwd7gzcbDIvQjkFYnU3GLWKV4Cu4BidbPbK3995Rkz0m/z3HrjatkbTqQC/Cavba5okIUXjlaEqEFf5z3bHU0z4YnDkS9b4tOdVux2bwXFgawzQ+JdrpVOCkXGmFLmbXp7pjH89phOF4fephjhF+jaJ1Ubr2xe+0zGmup+URRuAcbsWWXJdEqut4WddoFOnSFu59ip6hn+RJjw0+ONbF97STr9oc/bz6gnDjADFD/AsrpjjAwHOA30iBXXwWdXleV98tQYD+Ue/QU/XOl8PJx+B5iVQDwBa2N95JoBVzSJ0NWdahuAvgW8BooXYGObv6ax4JpWEvPgWM3QQuDfAJ4DxRuwtdGO2Ac3gUIvyJFGcweB9WvAY6D4AHaGZTTavreB4hs4GMQxFMxbCe4BxRewR5t0P9CPxj6wCjwE4wz9b6f9qa01A46DQbhz4c+AWXqVm2mfo07TGWBbw2ZZnu00IGeyCTlNXE7PcfH6nD7SlcbDllL/Fwd1vxB2S9Lsry7+FRE18po/MiDmblSeG8kAAAAASUVORK5CYII=",isDisplay:!0,jumpUrl:"https://m.jd.com",name:"首页",key:"index"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAABGdBTUEAALGPC/xhBQAAApRJREFUSA3Vlr9KXEEUxncFhYCNYBEsTJEi4GNsIdhFxDdIt42PEXyO2CVVCms7DVZiCItik5DSQptYhJvfd2eO82dn7t69IUUOnJ3z5/vOPXNn7syORl6appmZPcqdxjIknm2LhZHkSfBiSzzkKY6ltgO46tgTy86xCBQfMjZGPkLYIPZ7jFFtfowkRLCH6CO62iYwWraNhsbfN1svbufZwRB4JQrsRnZrrgjhg1sGZpzONRQzI1IcDnbnXAMssvRslUWu0R10HT1CJccRNDVJ6kVdp9HgkYsnGRKySOoNr6fR1CNvb2gusVpNuuJT8rcpK/MA7KtIJt+8v5XB+7sUeKUi/RnLICmsuZ+geoEz9LAXH+AxKtHaao211lpzSdiszne/qoylF1X8hIlPhKx2oCQSqmdIcuqgPAUxM3ziktYUwvEVZ3uQ9Q4exKm2FxfM7Hf4n7OYc6l6i06LSYLqDFlr8852v0bwsaQAMX1NT+h7w1VHQOoglwsCd1XSogTkK/RSuPTIXMT0ecjfMU97wv8BbPnTkSY6D+SuJpmvPpzSShBORJhwmeRFE2jkFHD2iWuf6Ays7mzlPEZYSf2ozx9kPiQdRjbDZMMapmuEqyYlquHu2y6C5QDrBJQcWWzZUdy2QuV/RbEeBB27ks67q0j2QXHbCtQyXHWdDMD409vbUWxZ07g/ehPpVNe8RCd1n0aT2uJ4LkNzkCQXORDsktYunSzCW15Y1Hb2W4u3I4miJCAcQOrcPilx9Aa0aXTtaA3tFlXMblLM5hf6Oq83yKeQPjEtgXb8DNUGvEe/oB/QPVQnm5o5RyVf0c1BDxxK4oEv0RtUcoa+GHRN/EUDb+B+RD8NrfH/8gZdbUOnG1+JfwA4qCAoSiTNEwAAAABJRU5ErkJggg==",isDisplay:!0,jumpUrl:"https://so.m.jd.com/category/all.html",name:"分类搜索",key:"search"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAXCAYAAAFrOM/8AAAABGdBTUEAALGPC/xhBQAAAfFJREFUSA21lb1LA0EQxXPGIrWktLC0ELEQwcLGQggWlmJpIeKfYGFhbSMIdlZiY20hiIVYWImtIATB3u/GD3L+Zm9vs3s37gUTByY7896bt5vlcqmlRC0WiZCBKmiKo5APBhOVhBNQr7vGK4qibY8zJYKVAMsnWLO9hM3BQOk3CI78Pqi1abAxI6LYCdQ0YMfmaoTQpt0ApDtlSQjQJidzFxFURNt3TkTsgIpCtO7MdscP1maSJG+xWebW4GcDDWCTfA9ApUHzJFqF6hPCtUW62xU7DQsuie8a3EHVGZwY5zQflrpqEH5rWBPlJhonGN77LK+OB3gkRx0QKdDdkeNOQrNJ7jkgUqALvxZ9g/yOzDiqNCyMCrqRbpHrhrpQVkGol1jUSV8UHoB9YaBp4xhD9bgiY6Ong5QoPp4lTN1IBsmWT2pY8Gz7Yuo6T1qngP1fy+kOSYkNf5cMGtjnru9taqwnrP19iewTwPfUei+qVpAnVrCsCv4A4lcnP8kO2VAtIOZIiRtV8AcQr3njmKYXMl76NQrIQ3XJckVOIV4QbACR+5xFvdhwyZ7wPCrskcTr2vrNVI4gvLXi6UpxRIDHiPV5ici6FOJV8tkODWTpuvdYsav5t2UtvZl8i151/ky0thuymAjep/4grBwsj191PxQBfCUS+pFvAAAAAElFTkSuQmCC",isDisplay:!0,jumpUrl:"https://p.m.jd.com/cart/cart.action",name:"购物车",key:"cart"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAABGdBTUEAALGPC/xhBQAAArNJREFUSA2tlr1KXUEUhe8VUSFCUhgkoI2VmCqmEEtNmuQR0gg2eYOUPoAEbKwkTxES8gNiE5NgF4JdrCIBwUKwComefGvO7Lkzc37uj9mwmL3XXnvPuXNm5txOx1tRFDvmdwhmQiAH4gKsOhKnSLJecZyQUo2BuwlbCVBcG4l/JX/MCMZu5CcPOBslnEv1j8AR3AeXgTBHichfN9+NJC8SIg8QLItjPLece1oIrcljT34m/OB8nzBxGOG3QpA7tUWQ++AarIBpsAdkE3mDEJM8BiuBiBxVRmGy7OLfgeexYGCfxovqjr1RUekWZ7UNSM57wUKtwJNovoJy3XE2wGFbQZ5DX3TBTxJzeXKkmGY74BJolcPGipvFm1kLMQG07LfAPbAJvkPtMzYbgiuwnivgtCFqZ3ZakslLtgbQ2kXpmbWkxpbCGXLJOUl+Y9wk87eJX2VcL6TrSxAOljLEy6D2J/QqS+GZCRnfyscWE1EckPzoJEXxmrG82spGL4h13cnS6wviHHyJG+U++QUgm3c5nC3Qu5zyiihGNwvK3xucSNDmoj8EG43vrk+xOx39l7ra5bRKZQyPpY2/C7SPm0w5aZovtKxvbeibaJJfoHJorIjcI69hKHaNH2qkUHeAbG/QQmldRfzRHaJYF45seogafS9k1U+ib9J2iE+85sGgE6IzrdUOXspTLgFthj/gYb9KabxWNUv99LV5CifBeyD7CypXlTifY3DaydpmbSSF+l/0DBwAXd+xuQ+m6iHtFrO8tAdAtW2vq5we0So4BbLfYBvcbnu4OCetr1GtTL3CTRm0kOPgE5B9A3dCckRHPXwvBtd73LUimAK6hmVPRuzfWKaernM5x5Tew5En1hqrbpig/5qf40h/Udwl3MVu2Le13ObRTnoKbKP4B/n/g+bQXP8A8Y9H3Xp0rSoAAAAASUVORK5CYII=",isDisplay:!0,jumpUrl:"https://home.m.jd.com",name:"我的京东",key:"home"},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAHPIZnHAAAABGdBTUEAALGPC/xhBQAABFFJREFUWAmdll2IVlUUhmcsHSVRUTMl1C4MHU2S/kSKbhpFzAshCsR0oEQRUedGpYukTNKwuskiBalIwX7QTEsUSXFqvBTUm6GLTPybdNT8yfzJ4/Pu1t6zz/7OGef7Frzfetda715nn33O2furqzPLsmyyaC/I9yCD37JalyM/oJcPTTXSx3Uk+sVBSwhigmp8HN+HI292EsgY0AJuA2/fGmnK9SH5jk/AL3gePMnjYHhIFBEE85XH36mok7ySJrV6sj1W6IAvAvVBSLAhBBDiEYrxzkKN6KIP4L94HrzkIYAQ3oxjJfrGopjnhD5A0OF58CQ/U4B/NiRTQnF1mtOIh8DH4E1fhMtG6Ec53C1xbKrXOE/iJBjlk3AJeyvGTzL/ANzbR0ba5N04/DlLyrn3CH/Bcsfwnca3WMMniU+AV12D9EfiNOdjSqfBTB8XejXASkUqFg5Mk+iGFonjXPhS08EWj8bnvgwGXyL3XIk+n0b8sK6GrQY/O5ZlDXlVQYRQ30k7OFBQzqXcLSCcBz4Bg616Dr8WXCL3IVgKZJ250QpIXgW/gsVANhl8DW4qwKbpx7R/QJ8Gw8FY1wwSHgm0H7hh4kfgfY0fhHubC7kDroAvNYO4wVuEh11nfuADwUQfW7NPyf0AVoF2iWYCb5dN1GSJG/gjvogfYnU1aI0bB05hsA3o2pmokhtp+ceDuIgg2gPmldR0S+GWpSl6E0eTP17UoL6+/m/yuq3yl4niHKAN9sGiJuS1iGHjqRBxla0IdADoOPmN+IWk0VnirtMtKeZCGpwCL8dJ4u1gdpwr5QjXgdwmSpxbxNLBKkiMhQWD91ei20FxMRUT6xV+JtZ0yxGfB3oT3wZ3wfZ0QMVTiAU8AW0oWsSnwEDiq3G9am4zweXsOlGjbwZ/DOiLfQW4b8fXSj3Cl8CfILW/SLizA69d7hrQUrgL4t8Hso3gCfAf0DrvAoeBTMsYHmTFJChukwrbnBbJvecq9uXDBwG9h940ocUah59hSR2SrykPNCFNeBj4AGhy3vZCBmmgDjrZowUTaCCvnVUovwsbKA1YCfYBbVlzbXLfwGXLLJ7wf8h/Och48I8lNKv5oBl8B2Sa9Yt+cnDtSCtAO9Ddxab/GZ+DdBNuJKd3JbU3fF9NRMu7CGwCX4BlwP2hs1m/TuyX8BB8OugTGkCIxwJ9/TqnZGfAhFhTE6eJPxWP9LQBY/Q4fgQyTTh3QPS0j9MxWMste76qgYgZs8CNzLKfqh0b9DTYYU2WhGQVhLGtNj49GnrWhcHaA/ZbE7mzoAUUnYgVTdG9C2Qr0mKPGrCF3gVNwBlNFgKthr7z3WnTgniA5f4tqNWe4uLrdVvYmu66UNfBKhvXna7qGg2PurZZNqtsMHV9lrKvyjQ15Wm4xrXlT21ZA+prTdNWpqk5T+Pl1nwnPvcuEU8BOshk62q+yP0G0lwX+l1XSUw7oQ6y3MSK+t0DVG5rShBkLlAAAAAASUVORK5CYII=",isDisplay:!0,jumpUrl:"https://wqs.jd.com/wxsq_project/mhistory/index.html",name:"浏览记录",key:"footprint"}]},create:function(e){var t=this;this.args=e;var n=this.args;if(U=e.stype||1,!this._validate())return!1;var o=this.args.moduleName,i=this.args.isShowGobackUrl,a=this.args.isShowShortCutButton,r=this.args.isUseCommonHeader,s="//mapi.m.jd.com/commonHeader/headerInfo.action?_format_=json&isNewVersion=1";void 0!==o&&(s+="&from="+o),void 0!==i&&(s+="&isShowGobackUrl="+i),void 0!==a&&(s+="&isShowShortCutButton="+a),void 0!==r&&(s+="&isUseCommonHeader="+r);var l,c,d="",p={url:s,method:"POST",async:!0,timeout:3e3,withCredentials:!0,success:function(e){if(headObjData=JSON.parse(e),headObjData.isForbiddenCommonHeader)return L.getElementById(n.hrederId).style.cssText="min-height: 0; height: 0;overflow: hidden;",L.runFunction(n.onHiddenHeader),!1;c=n.hrederId,d=n.hrederId,n.isFromKepler=headObjData.isFromKepler,l=L.getSid("?",n.sid),headObjData.isUseCommonHeader&&(void 0===n.isUseCommonHeader||n.isUseCommonHeader)?(htmlStr=t.getTempleNewHeadHtml(headObjData,n,c),t.addWindowMask()):htmlStr=t.getTempleteHtml(n),t._initShortcutId(c),L.innerHtml({divId:d,sid:l,htmlStr:htmlStr,prefix:c}),t._setCutrrentSelectedSyle(n.selectedShortCut),t._initShortCutShow(n.isShowShortCut,c),t.addEvnetClick(c,n,function(e){u(headObjData.isHeadReferHref,headObjData.isHeadHistoryState)},t),L.runFunction(n.isPersonalise);try{n.call&&n.call()}catch(e){}},error:function(){l=L.getSid("?",n.sid),htmlStr=t.getTempleteHtml(n),c=n.hrederId,d=n.hrederId,t._initShortcutId(c),L.innerHtml({divId:d,sid:l,htmlStr:htmlStr,prefix:c}),t._setCutrrentSelectedSyle(n.selectedShortCut),t._initShortCutShow(n.isShowShortCut,c),t.addEvnetClick(c,n,u,t);try{n.call&&n.call()}catch(e){}}};L.ajax(p)},setStype:function(e){if(2==(U=e))D.immerseChange();else{var t=document.getElementById("jd_header_new_bar");t&&t.parentNode&&((t=t.parentNode).className="jd-header")}},immerseChange:function(){if(2==U&&d){var e=L.getScrollTop(),t=document.getElementById("jd_header_new_bar");if(t&&t.parentNode){t=t.parentNode;var n="jd-header jd-header-op0";e<0&&(e=0),e<100?n="jd-header jd-header-immerse jd-header-op"+parseInt(e/20,10):e<200&&(n="jd-header jd-header-op"+parseInt(e/20,10)),t.className=n}}},addEvnetClick:function(t,e,n,o){var i=document.querySelector("#header-mask");if(e&&1==e.isFromKepler){if(p||m){var a=document.createElement("script"),r="//ebsnew.boc.cn/bocphone/BocMerchant/";p?a.src=r+"paylib/ios.js":m&&(a.src=r+"paylib/android.js"),a.src&&document.getElementsByTagName("head")[0].appendChild(a),document.addEventListener("deviceready",function(){L.addEvent(t+"_goback","click",function(){window.c_plugins&&window.c_plugins.merchantBridge&&window.c_plugins.merchantBridge.goToNative(function(e){},function(e){},{page:"0"})})})}}else L.addEvent(t+"_goback","click",function(){e&&e.gobackUrl?window.location.href=e.gobackUrl:(L.runFunction(e.onClickGoback),L.executeDefaultFunCtion(n))});if(L.addEvent(t+"_jdkey","click",function(){L.runFunction(e.onClickJdkey),L.executeDefaultFunCtion(o.shortCutShowHide,t),L.getElementById("header-mask")&&"none"==i.style.display&&(i.style.display="")}),L.addEvent(t+"_shortcut_m_index","click",function(){L.runFunction(e.onClickIndex)}),L.addEvent(t+"_shortcut_category_search","click",function(){L.runFunction(e.onClickSearch)}),L.addEvent(t+"_shortcut_p_cart","click",function(){L.runFunction(e.onClickCart)}),L.addEvent(t+"_shortcut_h_home","click",function(){L.runFunction(e.onClickHome)}),L.addEvent(t+"_shortcut_h_footprint","click",function(){L.runFunction(e.onClickFootprint)}),L.addEvent(t+"_shortcut_h_myfocus","click",function(){L.runFunction(e.onClickMyfocus)}),e.showShare&&L.addEvent(t+"_shortcut_h_share","click",function(){o.commonShare.show(),c()}),e.isShowShortCut)for(var s=e.isShowShortCut,l=0;l<s.length;l++)s[l].key.indexOf("index,search,cart,home,footprint,myfocus")<0&&L.addEvent(t+"_shortcut_m"+s[l].key,"click",function(){L.runFunction(e.onClickFun)});function c(){var e=document.getElementById(t+"_shortcut");e&&("block"!=e.style.display&&""!=e.style.display||(e.style.display="none",i&&(i.style.display="none")))}e.delayImmerseScroll&&0<e.delayImmerseScroll&&(d=!1,window.setTimeout(function(){d=!0},e.delayImmerseScroll)),window.addEventListener("scroll",function(){c(),D.immerseChange()}),i&&i.addEventListener("click",function(){this.style.display="none";var e=document.getElementById(t+"_shortcut");e&&""==e.style.display&&(e.style.display="none")})},getShortcutId:function(e){return this.shortcutIds[e-1]},getTempleteHtml:function(e){var t=!1,n=navigator.userAgent;0<n.indexOf("baiduboxapp")&&0<n.indexOf("light")&&(t=!0);var o='<header class="jd-header">    <div class="jd-header-bar">'+(t?"":'        <div report-eventid="MCommonHead_Back" id="{prefix}_goback" class="jd-header-icon-back J_ping"><span></span></div>')+'        <div class="jd-header-title">{title}</div>',i=t?"":'        <div report-eventid="MCommonHead_NavigateButton"  report-eventparam="" page_name="" id="{prefix}_jdkey" class="jd-header-icon-shortcut J_ping"><span></span></div>',a="";this.args.title&&(a=this.args.title);var r="",s=e.isShowShortCutButton,l=navigator.userAgent.indexOf("jdmsxh"),c=navigator.userAgent.indexOf("jdmsxh2");return 0<=l&&l!=c&&(s=!1),r=void 0===s||s?o+i+'    </div>    <ul id="{prefix}_shortcut" class="jd-header-shortcut" style="display: none">        <li id="{prefix}_shortcut_m_index">            <a class="J_ping" report-eventid="MCommonHead_home"  report-eventparam="" page_name="" href="//m.jd.com/nav.html{sid}">                <span class="shortcut-home"></span>                <strong>首页</strong>            </a>        </li>        <li class="J_ping" report-eventid="MCommonHead_CategorySearch"  report-eventparam="" page_name="" id="{prefix}_shortcut_category_search">            <a href="//so.m.jd.com/category/all.html?searchFrom=header">                <span class="shortcut-categories"></span>                <strong>分类搜索</strong>            </a>        </li>        <li class="J_ping" report-eventid="MCommonHead_Cart"  report-eventparam="" page_name=""  id="{prefix}_shortcut_p_cart">            <a href="//p.m.jd.com/cart/cart.action{sid}" id="html5_cart">                <span class="shortcut-cart"></span>                <strong>购物车</strong>            </a>        </li>        <li id="{prefix}_shortcut_h_home">            <a class="J_ping" report-eventid="MCommonHead_MYJD"  report-eventparam="" page_name=""  href="//home.m.jd.com/myJd/home.action{sid}">                <span class="shortcut-my-account"></span>                <strong>我的京东</strong>            </a>        </li>    </ul></header>':o+"    </div>",r=L.templeteOutput({templete:r,param:{title:a}})},getTempleNewHeadHtml:function(e,t,n){var o=this,i=!1,a=navigator.userAgent,r="",s=window.location.href.split("?"),l=s[0],c=s[0],d=t.isShowGobackUrl,p=t.isShowShortCutButton,m=navigator.userAgent.indexOf("jdmsxh"),u=navigator.userAgent.indexOf("jdmsxh2"),h=!0,f=L.getCookie("mhome"),g=L.getCookie("sphome");"1"==f?h=!0:"1"==g&&(h=!1),0<a.indexOf("baiduboxapp")&&0<a.indexOf("light")&&(i=!0);var w=e.navList,v='<header class="jd-header '+(2==U?"jd-header-immerse jd-header-op0":"")+'"><div class="jd-header-new-bar" id="jd_header_new_bar">',y=i?"":'<div report-eventid="MCommonHead_Back" report-eventparam="'+c+'" id="{prefix}_goback" class="jd-header-icon-back J_ping"><span></span></div>',A="";if(0<e.btnList.length){var C=(void 0===p||p)&&e.isShowShortCutButton&&w&&0<w.length;("pro.m.jd.com"==location.host||"/test/demo/m_bottom_nav.html"==location.pathname&&"hb"==function(e,t){var n=t||window.location.search,o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=n.substr(n.indexOf("?")+1).match(o);return null!=i?i[2]:""}("debug"))&&D.addNewuserHb(e,c,C,n),e.btnList[0].icon&&e.btnList[0].jumpUrl&&(A=C?'<a class="J_ping jd-header-personalise-icon" report-eventid="'+e.btnList[0].report_eventid+'" report-eventparam="'+c+'" style="background:url('+e.btnList[0].icon+') no-repeat center center;background-size:20px" href="'+e.btnList[0].jumpUrl+'"></a>':'<a class="J_ping jd-header-personalise-icon" report-eventid="'+e.btnList[0].report_eventid+'" report-eventparam="'+c+'" style="background:url('+e.btnList[0].icon+') no-repeat center center;background-size:20px;position:absolute;top:12px;right:12px;" href="'+e.btnList[0].jumpUrl+'"></a>')}for(var _=i?"":'<div report-eventid="MCommonHead_NavigateButton" report-eventparam="'+c+'" id="{prefix}_jdkey" class="jd-header-icon-new-shortcut J_ping"><span></span></div>',b=t.hrederId,k='<ul id="'+b+'_shortcut" class="jd-header-vertical-shortcut" style="display: none">',x=0;x<w.length;x++)if(w[x].isDisplay&&w[x].icon&&w[x].jumpUrl&&w[x].name&&w[x].key){var I="",S="",j=!!w[x].report_eventid,O=(l=w[x].report_eventparam?w[x].report_eventparam:s[0],w[x].jumpUrl);switch(w[x].key){case"index":I="m_index",S=j?w[x].report_eventid:"",O=h?w[x].jumpUrl:"//sp.m.jd.com";break;case"search":I="category_search",S=j?w[x].report_eventid:"",w[x].jumpUrl+="?searchFrom=header";break;case"cart":I="p_cart",S=j?w[x].report_eventid:"";break;case"home":I="h_home",S=j?w[x].report_eventid:"";break;case"footprint":I="h_footprint",S=j?w[x].report_eventid:"";break;case"myfocus":I="h_myfocus",S=j?w[x].report_eventid:"";break;default:I="m_"+w[x].key,S=j?w[x].report_eventid:""}k+='<li id="'+b+"_shortcut_"+I+'"><a class="J_ping" report-eventid="'+S+'"  report-eventparam="'+l+'" href="'+O+'"><span class="shortcut-'+w[x].key+'" style="background: url('+w[x].icon+') no-repeat center center;background-size: 15px"></span><strong>'+w[x].name+"</strong></a></li>"}this.args.showShare&&(k+='<li id="m_common_header_shortcut_h_share"><a class="J_ping" report-eventid="MCommonHead_Share" report-eventparam="'+l+'" href="javascript:"><span class="shortcut-share"></span><strong>分享</strong></a></li>',window.JD&&window.JD.M&&window.JD.M.CommonShare?o.commonShare=new window.JD.M.CommonShare("commonShare",o.args.shareConfig):L.sendJs("//wq.360buyimg.com/js/common/dest/m.commonShare.min.js?v=2.3.13",{crossorigin:!0,onLoad:function(){if(window.JD&&window.JD.M&&window.JD.M.CommonShare)o.commonShare=new window.JD.M.CommonShare("commonShare",o.args.shareConfig);else{var e=document.getElementById("m_common_header_shortcut_h_share");e&&e.parentNode&&e.parentNode.removeChild(e)}},onError:function(){var e=document.getElementById("m_common_header_shortcut_h_share");e&&e.parentNode&&e.parentNode.removeChild(e)}})),k+="</ul>";var T="";if(this.args.title&&(T=this.args.title),0<=m&&m!=u&&(p=!1),r=v,(void 0===d||d)&&e.isShowGobackUrl&&(r+=y),r+='<div class="jd-header-new-title">{title}</div>',0<e.btnList.length&&A&&(r+=A),(void 0===p||p)&&e.isShowShortCutButton&&w&&0<w.length&&(r+=_),r+="</div>",w&&0<w.length){var P=document.createElement("div");P.id="header-shortcut-ul",P.innerHTML=k,document.body.appendChild(P)}return r+="</header>",r=L.templeteOutput({templete:r,param:{title:T}})},addNewuserHb:function(t,n,o,i){window.mHeaderQueryNewuserCb=function(e){0==e.retcode&&2<=e.isNewUser&&D.queryCouponInfo(t,n,o,i)},L.sendJs("//wq.jd.com/userattribute/QueryIsNewUser?callback=mHeaderQueryNewuserCb&sceneid=2")},queryCouponInfo:function(e,w,v,y){window.mHeaderQueryPrizesCb=function(e){if(0==e.ret){var t=document.createDocumentFragment(),i=document.createElement("div");if(i.className="jd-header-hb hbhide",i.style.top="-1000px",i.style.height="0",!e.prizes||0==e.prizes.length)return;var n=D.filterCoupon(e);if(0==n.prizes.length)return;var o=n.prizes[0],a=o.Desc.split(","),r=o.DiscountQuota.split(";");if(r.length<3||a.length<3)return;D.active_level=o.Level,a=a.slice(0,3),r=r.slice(0,3);for(var s=0;s<3;++s){var l=r[s].split(","),c=document.createElement("div");c.className="jd-header-hb-inner inner"+(s+1),c.innerHTML='<span class="jhhb-yen">¥</span><span class="jhhb-price">'+l[0]+'</span><div class="jhhb-icon"><span class="jhhb-itext">'+a[s]+'</span></div><div class="jhhb-desc">'+(0==l[1]?"无门槛":"满"+l[1]+"可用")+"</div></div>",i.appendChild(c)}var d=document.createElement("div");d.className="jd-header-hb-close",i.appendChild(d);var p=document.createElement("div");p.className="jd-header-hb-btn "+(n.hasTake?"jdhbb-gray":""),p.innerHTML=n.hasTake?"已领取":"一键领取",p.setAttribute("report-eventid","MCommonHead_BabelCouponGet"),p.setAttribute("report-eventparam",w),i.appendChild(p),t.appendChild(i),document.body.appendChild(t);var m=document.getElementById("jd_header_new_bar"),u=document.createElement("a");if(u.className="J_ping jd-header-personalise-icon jd-header-hb-icon",u.setAttribute("report-eventid","MCommonHead_BabelRedBag"),u.setAttribute("report-eventparam",w),u.style=v?"":"position:absolute;top:12px;right:12px;",v){var h=document.getElementById(y+"_jdkey");h&&m.insertBefore(u,h)}else m.appendChild(u);u.onclick=function(e){"-1000px"==i.style.top?g():f()},p.onclick=function(e){~p.className.indexOf("jdhbb-gray")||D.hbActiveDraw(p,y)},d.onclick=function(e){f()};var f=function(){i.className="jd-header-hb hbhide",i.style.height="0",window.setTimeout(function(){i.style.top="-1000px"},200)},g=function(){var e=L.getElementById(y),t=e?e.offsetTop:0,n=D.getFixedAndTop(),o=n.top+t+45;"fixed"==n.pos&&(i.style.position="fixed"),i.style.top=o+"px",i.style.height="25.9vw",window.setTimeout(function(){i.className="jd-header-hb"},200)}}},L.sendJs("//wq.jd.com/activepersistent/couponrecommend/queryuseractiveinfo?active="+D.active_id+"&callback=mHeaderQueryPrizesCb&sceneval=2")},hbActiveDraw:function(n,e){var t=L.getElementById(e),o=t?t.offsetTop:0,i=D.getFixedAndTop().top+o+40,a=((window.innerWidth||(document.documentElement?document.documentElement.clientWidth:"")||document.body.clientWidth)-240)/2;!function(e,t,n,o){if(c)return;c=!0,o=o||{};var i={active:"",level:"",callback:null,customUrl:"",customParam:{},sceneid:"",verifycode:"",verifysession:"",deal_id:"",dataType:"jsonp",degrade:{},stopAutoLogin:!1,manuallyHandle:!1,errorback:null,prizename:"奖品",alertbtncb:null,lockCallback:null,customCall:null,top:"",left:""};if("object"==typeof e)for(var a in i)i[a]=void 0!==e[a]?e[a]:i[a];else for(var a in i.active=e,i.level=t,i.callback=n,i)i[a]=void 0!==o[a]?o[a]:i[a];i.callback||i.customCall||(i.callback=function(e,t){h({showClose:!1,showConfirm:!!i.alertbtncb,msg:t.retmsg.replace(/奖品/g,i.prizename)||"活动太火爆，请稍后再试~",icon:0==e?"success":"fail",onConfirm:i.alertbtncb?i.alertbtncb:null,top:i.top||"",left:i.left||""})});if(i.customUrl)var r=i.customUrl,s=i.customParam;else{var r="//wq.jd.com/active/active_draw?callback=hbActiveDrawCb",s={active:i.active,level:i.level,sceneid:i.sceneid,ifycode:i.verifycode,verifysession:i.verifysession,deal_id:i.deal_id,sceneval:"2",ext:"hj:m"};for(var a in s)s[a]||delete s[a]}for(var l in s)s.hasOwnProperty(l)&&(r+="&"+l+"="+s[l]);window.hbActiveDrawCb=function(e){c=!1,function(e,t,n,o,i,a,r,s){r||(r={});if(e.needLogin=e.needBind=e.needRealName=e.couponObtained=e.couponOver=!1,2==e.ret){if(!s.options.stopAutoLogin)return;e.needLogin=!0}if(!s.options.customUrl&&e.active!=t)return o&&o(8,{ret:8,retmsg:"很抱歉，奖品飞走了。"},r);try{wa&&wa("shDeviceId",{type:1,activeInfo:{active:e.active,level:n||""}})}catch(e){}if(0==e.ret){if(s.options.customUrl)o&&o(e.ret,e,r);else if(e.bingo&&0==e.bingo.bingoret&&0<e.bingo.bingolevel){if(n&&e.bingo.bingolevel!=n)return o&&o(8,{ret:8,retmsg:"很抱歉，奖品飞走了.."},r);"object"==typeof cgiData&&(cgiData["querybingo_"+t]=null),o&&o(e.ret,e,r)}else o&&o(8,{ret:8,retmsg:"很抱歉，奖品飞走了!"},r);return}if(164==e.ret||163==e.ret){if(!i)return h({showClose:!0,msg:"亲，别着急，<br />先完善京东账号的手机号码再来"+(n?"领券":"抽奖")+"！",confirmText:"绑定账号",top:s.options.top||"",left:s.options.left||"",onConfirm:function(){location.href="//wqs.jd.com/my/bindpopupv2/index.shtml?returnUrl="+encodeURIComponent(location.href)+"&sceneid="+(s.sceneid?s.sceneid:"621394479")+"&ptag=138268.2.15"}}),a&&a(e.ret,e,r);e.needBind=!0}197==e.ret?e.needRealName=!0:10==e.ret?e.couponObtained=!0:0<=[5,6,7,11].indexOf(e.ret)&&(e.couponOver=!0);if(s.options.customCall&&s.options.customCall(e.ret,e))return;i||3==e.ret||4==e.ret||8==e.ret||2==e.ret?o&&o(e.ret,e,r):(h({showClose:!1,showConfirm:!!s.alertbtncb,msg:e.retmsg.replace(/奖品/g,s.prizename)||"活动太火爆，请稍后再试~",onConfirm:s.alertbtncb?s.alertbtncb:null,top:s.options.top||"",left:s.options.left||""}),a&&a(e.ret,e,r))}(e,i.active,i.level,i.callback,i.manuallyHandle,i.errorback,{},{prizename:i.prizename,sceneid:i.sceneid,alertbtncb:i.alertbtncb,options:i})},L.sendJs(r)}(D.active_id,D.active_level,function(e,t){0==e?(n.className="jd-header-hb-btn jdhbb-gray",n.innerHTML="已领取"):h({showClose:!1,showConfirm:!1,msg:t.retmsg||"活动太火爆，请稍后再试~",top:i,left:a})},{top:i,left:a})},filterCoupon:function(e){var a=[],r=!1;e.bingos&&0<e.bingos.length&&e.bingos.forEach(function(e){e.Level&&a.push(parseInt(e.Level))});var t=e.prizes.filter(function(e){var t=e.PrizeTime?e.PrizeTime.split(","):[],n=e.ConstraintTime?e.ConstraintTime.split(";")[0].split(","):[],o=e.ValidType?e.ValidType.split(","):[];couponTimeArr=1==o[0]&&e.CouponTime?e.CouponTime.split(";")[0].split(","):[],discountQuotaArr=e.DiscountQuota?e.DiscountQuota.split(";")[0].split(","):[],nowTime=(new Date).getTime();var i=e&&0==e.Status&&e.Level&&discountQuotaArr&&1<discountQuotaArr.length&&1<t.length&&1e3*parseFloat(t[0])<=nowTime&&1e3*parseFloat(t[1])>=nowTime&&(2==o[0]&&e.CouponTime.split(";")[0]||1<couponTimeArr.length&&1e3*parseFloat(couponTimeArr[1])>=nowTime)&&1<n.length&&1e3*parseFloat(n[0])<=nowTime&&1e3*parseFloat(n[1])>=nowTime;return~a.indexOf(parseInt(e.Level))&&i&&(r=!0),i});return t.sort(function(e,t){return parseInt(e.Level)-parseInt(t.Level)}),{prizes:t,hasTake:r}},addWindowMask:function(){if(!document.querySelector("header-mask")){var e=document.createElement("div");e.id="header-mask",e.style.display="none",document.body.appendChild(e)}},shortCutShowHide:function(e){var t=L.getElementById(e+"_shortcut");if(t)if("none"==t.style.display){if(document.querySelector(".jd-header-new-bar")&&L.getElementById(e+"_shortcut")){var n=L.getElementById(e),o=n?n.offsetTop:0,i=D.getFixedAndTop(!0).top+o+53;L.getElementById(e+"_shortcut").style.cssText="position: absolute;top: "+i+"px;right: 10px;"}L.divShow(t)}else L.divHide(t)},getFixedAndTop:function(e){var t=0,n=L.getElementById(D.args.hrederId),o="";if(n){var i=L.getFixedOrAbsPos(n);if(i){o=i.pos;var a=L.getStyle(i.ele,"top");a&&(t=1*(a=a.replace(/px$/i,""))),"fixed"==o&&e&&(t+=L.getScrollTop())}}return{pos:o,top:t}},_initShortcutId:function(e){var t=[e+"_shortcut_m_index",e+"_shortcut_category_search",e+"_shortcut_p_cart",e+"_shortcut_h_home"];this.shortcutIds=t},_initShortCutShow:function(e,t){var n=L.getElementById(t+"_shortcut");e?L.divShow(n):L.divHide(n)},_setCutrrentSelectedSyle:function(e){L.removeClassBatch(this.shortcutIds,"current"),L._isNotBlank(this.getShortcutId(e))&&L.addClass(L.getElementById(this.getShortcutId(e)),"current")},_validate:function(){var e=!0;return this._isHasHeaderId()||(e=!1),e},_isHasHeaderId:function(){var e=!1;return L.getElementById(this.args.hrederId)?e=!0:L.printDeugInfo("请正确拼写或添加通用头ID."),e}},o={args:{bottomId:"m_common_bottom",sid:"",isShowBottom:!0,footerPlatforms:""},create:function(e){if(this.args=e,!this._validate())return!1;L.getSid("?",this.args.sid);var t=this.getTempleteHtml(this.args),n=this.args.bottomId,o=this.args.bottomId;L.innerHtml({divId:o,htmlStr:t,prefix:n});this._addFooterPlatformEvent();try{this.args.call&&this.args.call()}catch(e){}},getTempleteHtml:function(e){return'<footer id="{prefix}_jd_footer" class="jd-footer">'+this._getLinksHtml(e)+this._getPlatformsHtml(e)+this._getCopyrightHtml(e)+"</footer>"},_getLinksHtml:function(e){var t='\t<div class="jd-1px-line-up"></div>    <ul class="jd-footer-links">'+(e.pin&&""!=e.pin?'        <li class=""><a class="J_ping" report-eventid="MCommonHTail_Account"  report-eventparam="" page_name="" rel="nofollow"  href="//home.m.jd.com/myJd/home.action{sid}">{pin}</a></li>        <li><a class="J_ping" report-eventid="MCommonHTail_Exit"  report-eventparam="" page_name="" rel="nofollow" href="https://passport.m.jd.com/user/logout.action{sid}">退出</a></li>':'        <li class=""><a class="J_ping" report-eventid="MCommonHTail_Login"  report-eventparam="" page_name="" rel="nofollow" href="https://passport.m.jd.com/user/login.action{sid}{returnurl}">登录</a></li>        <li><a class="J_ping" report-eventid="MCommonHTail_Register"  report-eventparam="" page_name="" rel="nofollow"  href="https://passport.m.jd.com/register/mobileRegister.action{sid}">注册</a></li>')+'        <li><a class="J_ping" report-eventid="MCommonHTail_Feedback"  report-eventparam="" page_name="" rel="nofollow" href="//m.jd.com/showvote.html{sid}">反馈</a></li>        <li><a class="J_ping" report-eventid="MCommonHTail_ToTop"  report-eventparam="" page_name="" rel="nofollow" href="#top">回到顶部</a></li>    </ul>',n=L.getSid("?",e.sid),o=e.pin,i=L.getParam(n,"returnurl",e.returnurl);return t=L.templeteOutput({templete:t,param:{sid:n,pin:o,returnurl:i}})},_getPlatformsHtml:function(e){this.args.bottomId;var t=e.footerPlatforms;if(t.length<=0)return"";for(var n="",o="",i=0;i<t.length;i++){var a="";(o=t[i]).href&&(a="href='"+o.href+"'"),"standard"==o.name?n+='<li id="{prefix}_standard"  class="jd-footer-icon-standard"><a '+a+">标准版</a></li>":"touchscreen"==o.name?n+='<li id="{prefix}_touchscreen" class="jd-footer-icon-touchscreen current"><a '+a+' class="J_ping" report-eventid="MCommonHTail_TouchEdition"  report-eventparam="" page_name="">触屏版</a></li>':"pc"==o.name?n+='<li id="{prefix}_pc" class="jd-footer-icon-pc"><a '+a+' class="J_ping" report-eventid="MCommonHTail_PCEdition"  report-eventparam="" page_name="">电脑版</a></li>':"apps"==o.name&&(n+='<li id="{prefix}_apps"  class="jd-footer-icon-apps"><a class="badge" "'+a+' class="J_ping" report-eventid="MCommonHTail_ClientApp"  report-eventparam="" page_name="">客户端</a></li>')}return'<div class="jd-1px-line-up"></div>    <ul class="jd-footer-platforms">'+n+"    </ul>"},_getCopyrightHtml:function(e){return'<div class="jd-1px-line-up"></div><div class="jd-footer-copyright">Copyright © 2004-'+(new Date).getFullYear()+" 京东JD.com 版权所有 </div>"},_initDefaultFooterPlatforms:function(){this.args.footerPlatforms=this.platformEnum(this.args.sid).enum4},_addFooterPlatformEvent:function(){var e,t,o=this.args.footerPlatforms,n=this.args.bottomId,i=function(e,t){var n=e+"_"+t;L.getElementById(n)&&L.addEvent(n,"click",function(){for(var e=0;e<o.length;e++)if(o[e].name==t){L.runFunction(o[e].onClickX);break}})};i(n,"standard"),i(n,"pc"),i(n,"touchscreen"),i(n,"apps"),e=n+"_apps",void 0===(t=this.args.downloadAppPlugIn)&&(t={}),document.getElementById(e)&&(t.openAppBtnId=e,$.downloadAppPlugIn(t))},_initBottomShow:function(e,t){var n=L.getElementById(t+"_jd_footer");e?L.divShow(n):L.divHide(n)},_validate:function(){var e=!0;return this._isHasBottomId()||(e=!1),e},_isHasBottomId:function(){var e=!1;return L.getElementById(this.args.bottomId)?e=!0:L.printDeugInfo("请正确拼写或添加通用尾ID."),e}},t={args:{tipId:"m_common_tip",sid:"",isShowTip:!0,isfloat:!0,onClickTrynow:function(){}},create:function(e){if(this.args=e,!this._validate())return!1;window.localStorage;var t=L.getSid("?",this.args.sid),n=this.getTempleteHtml(e),o=this.args.tipId,i=this.args.tipId,a="_"+Math.floor(10*Math.random())+Math.floor(10*Math.random()),r=document.getElementById(i);r.setAttribute("id","content"+a),i="content"+a,r=document.getElementById(i),o=i,this.args.tipId=i,L.innerHtml({divId:i,sid:t,htmlStr:n,prefix:o}),this._setFloat(this.args.isfloat,o);var s,l,c,d,p=this;L.addEvent(o+"_x","click",function(){L.runFunction(p.args.onClickTipX)}),L.addEvent(o+"_trynow","click",function(){L.runFunction(p.args.onClickTrynow)}),this.args.isUseCustomDownloadApp||(s=o+"_trynow",l=o+"_x",c=o+"_div",void 0===(d=p.args.downloadAppPlugIn)&&(d={}),document.getElementById(s)&&(d.openAppBtnId=s,d.closePanelBtnId=l,d.closePanelId=c,$.downloadAppPlugIn(d)));try{this.args.call&&this.args.call()}catch(e){}},getTempleteHtml:function(e){var t="打开京东APP购物",n="新人领188元红包",o="";if(e.copyWrite&&(cw=e.copyWrite,e.copyWrite.up&&(t=e.copyWrite.up,e.copyWrite.down&&(n=e.copyWrite.down))),e.location){e.location;o=' style = "'+localStyle+'"'}return'\t<div  id="{prefix}_div" '+o+' class="download-pannel download-noBg">\t    <div class="pannel-bg"><img src="//img11.360buyimg.com/jdphoto/s640x100_jfs/t25471/63/982804166/2377/f8f633b9/5b850e48Nfd4e116b.png"></div>\t    <div id="{prefix}_x" class="download-close"><img src="//img11.360buyimg.com/jdphoto/s32x32_jfs/t24304/359/2532278428/1657/ed614023/5b850f6fN747fe6a5.png"></div>\t    <div class="download-logo"><img src="//img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"></div>\t    <div class="download-txt">\t            <span class="download-content">\t                <em class="content-up">'+t+'</em>\t                <em class="content-down">'+n+'</em>\t            </span>\t    </div>\t    <div id="{prefix}_trynow" class="download-action">\t        <span class="font-large">立即打开</span>\t    </div>\t</div>'},_setFloat:function(e,t){L.getElementById(t+"_div")},_showTip:function(e,t){var n=L.getElementById(t+"_div");e?L.divShow(n):L.divHide(n)},_validate:function(){var e=!0;return this._isHasTipId()||(e=!1),e},_isHasTipId:function(){var e=!1;return L.getElementById(this.args.tipId)?e=!0:L.printDeugInfo("请正确拼写或添加通用提示ID."),e}},i={args:{tipId:"m_common_tip",sid:"",isShowTip:!0,isfloat:!0,onClickTrynow:function(){}},create:function(e){if(this.args=e,!this._validate())return!1;var t=this.args.tipId,n="_"+Math.floor(10*Math.random())+Math.floor(10*Math.random());document.getElementById(t).setAttribute("id","content"+n),t="content"+n,this.args.tipId=t,$.downloadAppLayerConfigData(this.args)},_validate:function(){var e=!0;return this._isHasTipId()||(e=!1),e},_isHasTipId:function(){var e=!1;return L.getElementById(this.args.tipId)?e=!0:L.printDeugInfo("请正确拼写或添加通用提示ID."),e}},c=!1;return L.includeCss(),{getCommonShare:function(){return D.commonShare},header:function(e){D.create(e)},setHeaderStype:function(e){D.setStype(e)},bottom:function(e){var t=navigator.userAgent.indexOf("jdmsxh"),n=navigator.userAgent.indexOf("jdmsxh2");0<=t&&t!=n||o.create(e)},jdTip:function(e){t.create(e)},jdTipNew:function(e){i.create(e)},platformEnum:function(e,t){return t&&L.getSid("&",t),{enum0:[],enum1:[{id:4,name:"apps",href:"",onClickX:function(){}}],enum2:[{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:4,name:"apps",href:"",onClickX:function(){}}],enum2_1:[{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:3,name:"pc",href:"",onClickX:function(){a(e)}}],enum2_2:[{id:4,name:"apps",href:"",onClickX:function(){}},{id:2,name:"touchscreen",href:"",onClickX:function(){}}],enum3:[{id:4,name:"apps",href:"",onClickX:function(){}},{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:3,name:"pc",href:"",onClickX:function(){a(e)}}],enum3_1:[{id:3,name:"pc",href:"",onClickX:function(){a(e)}},{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:4,name:"apps",href:"",onClickX:function(){}}],enum3_2:[{id:2,name:"touchscreen",href:"",onClickX:function(){}},{id:3,name:"pc",href:"",onClickX:function(){a(e)}},{id:4,name:"apps",href:"",onClickX:function(){}}]}},version:"2.3.13"}};var s=0,l=document.createElement("div");function h(e){var t=document.querySelector(".wx_wrap")||document.body,n={showClose:!1,showConfirm:!0,msg:"",confirmText:"确认",icon:"none",onConfirm:null,stopMove:!1,btnClass:"btn_1",confirmColor:"",top:"",left:""},o=function(e){e.preventDefault()},i=document.createElement("div");(function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(n,e=e||{}),n.delay=parseInt(n.delay||0),n.delay||n.showConfirm||(n.delay=2e3),t=e.container||t,i.className="cheader_mod_alert mod_alert show "+(n.top?"":"fixed"),n.top&&(i.style.position="absolute",i.style.top=n.top+"px",i.style.left=n.left+"px",i.style.zIndex="899"),i.innerHTML=(n.showClose?'<span class="close"></span>':"")+("none"!=n.icon?'<i class="icon'+("info"!=n.icon?" icon_"+n.icon:"")+'"></i>':"")+"<p>"+n.msg+"</p>"+(n.subMsg?'<p class="small">'+n.subMsg+"</p>":"")+(n.showConfirm?'<p class="btns"><a href="javascript:;" '+(n.confirmColor?'style="color:'+n.confirmColor+'"':"")+' class="btn '+n.btnClass+'">'+n.confirmText+"</a></p>":""),t.appendChild(i),n.showClose&&(i.querySelector(".close").onclick=function(e){n.onCancel&&n.onCancel(),this.onclick=null,r()});var a=i.querySelector(".btn");function r(){--s<1&&document.body.contains(l)&&document.body.removeChild(l),i.style.display="none",t.contains(i)&&t.removeChild(i),n.stopMove&&document.removeEventListener("touchmove",o,!1)}a&&(a.onclick=function(e){n.onConfirm&&n.onConfirm(),this.onclick=null,r()}),n.delay&&setTimeout(function(){r()},n.delay),document.body.appendChild(l),n.stopMove&&document.addEventListener("touchmove",o,!1),s++}l.className="cheader_mod_alert mod_alert_mask show"}(),setTimeout(function(){try{MPing.inputs.Click.attachEvent()}catch(e){}},100);var imk2Version="imk3-1.8.2";console.warn(">>> "+imk2Version);try{var isLoadedImk2=void 0!==window.imk2Handler;if(isLoadedImk2);else{Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var _headDom,_eyeDiv,_eyeUrL="//wq.360buyimg.com/js/common/dest/wq.imk.componentInfo.min.js";-1<location.href.indexOf("showxinfo")&&(_headDom=document.querySelector("head"),(_eyeDiv=document.createElement("script")).src=_eyeUrL,_headDom.appendChild(_eyeDiv));var IMKTOOLS={};function CommmonLightLine(n){this.handler,this.dom,this.hypotenuse,this.lineWidth,this.base,this.skew,this.lineColor,this.intervalTime,this.time,this.timeCounter=0,this.bgImage,this.subDom,this.init=function(){var e,t;this.dom=document.querySelector(""+n.domId),e=this.dom.offsetWidth,t=this.dom.offsetHeight,this.hypotenuse=Math.round(Math.sqrt(e*e+t*t)),this.lineWidth=n.lineWidth?n.lineWidth:5,this.base=n.base?n.base:0,this.skew=n.skew?n.skew:"135deg",this.lineColor=n.lineColor?" "+n.lineColor+" ":" rgba(255, 255, 255, .3) ",this.intervalTime=n.intervalTime?n.intervalTime:5,this.time=n.time?n.time:"infinite",this.bgImage=n.bgImage?',url("'+n.bgImage+'")':"",this.dom.style.backgroundImage='url("'+n.bgImage+'")',this.subDom=document.createElement("div"),this.subDom.setAttribute("style","width: 100%; height: 100%;"),this.subDom.style.borderRadius=getComputedStyle(imk2Side,null).getPropertyValue("border-radius"),this.dom.appendChild(this.subDom)},this.play=function(){this.init();var e=this;this.handler=setInterval(function(){e.subDom.style.backgroundImage="linear-gradient("+e.skew+", transparent, transparent "+e.base+"px, "+e.lineColor+e.base+"px, "+e.lineColor+(e.base+e.lineWidth)+"px, transparent "+(e.base+e.lineWidth)+"px) ",e.base++,e.base>e.hypotenuse&&(e.base=0,e.timeCounter++),e.time<e.timeCounter&&clearInterval(e.handler)},this.intervalTime)}}function mCarouselNew(e){this.intervel=e.intervel?e.intervel:3e3,this.transitionTime=e.transitionTime?e.transitionTime:800,this.carouselHeight=e.carouselHeight?e.carouselHeight:45,this.circle,this.carousel,this.silders,this.sildersLen,this.currentIndex=0,this.handler,this._w,this.startPostionX=0,this.endPostionX=0,this.distance=0,this.stopCarousel=e.stopCarousel,mCarouselNew.prototype.init=function(){this.carousel=document.querySelector(e.warpperId+" .carousel"),this.silders=document.querySelectorAll(e.warpperId+" .carousel li"),this.circles=document.querySelectorAll(e.warpperId+" .m-carousel-circle li"),this._w=getComputedStyle(this.carousel.parentNode,null).width.replace("px",""),(isNaN(this._w)||null===this._w||this._w<=0)&&(this._w=document.documentElement.clientWidth),this.setCSS(),this.bindEvent()},mCarouselNew.prototype.setCSS=function(){this.sildersLen=this.silders.length;for(var e=0;e<this.sildersLen;e++)this.silders[e].style.width=this._w+"px",this.silders[e].style.left=e*this._w+"px";this.carousel.style.width=this.sildersLen*this._w+"px",this.carousel.parentNode.style.height=this.carouselHeight+"px"},mCarouselNew.prototype.turningPage=function(e){if(this.carousel.style.transition=this.transitionTime+"ms",this.carousel.style.transform="translate3d("+-this.currentIndex*this._w+"px, 0, 0)",this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px","--\x3e"==e)this.currentIndex==this.sildersLen-1||this.currentIndex%this.sildersLen==this.sildersLen-1?(this.circles[0].classList.remove("item-active"),this.circles[this.sildersLen-1].classList.add("item-active")):(this.circles[this.currentIndex%this.sildersLen+1].classList.remove("item-active"),this.circles[this.currentIndex%this.sildersLen].classList.add("item-active"));else{if(this.currentIndex%this.sildersLen==0)return this.circles[this.sildersLen-1].classList.remove("item-active"),void this.circles[0].classList.add("item-active");this.circles[this.currentIndex%this.sildersLen-1].classList.remove("item-active"),this.circles[this.currentIndex%this.sildersLen].classList.add("item-active")}},mCarouselNew.prototype.bindEvent=function(){if(this.stopCarousel)return!1;var o=this;this.carousel.addEventListener("touchstart",function(e){o.cancelPlay();var t=e.touches[0];o.startPostionX=t.clientX}),this.carousel.addEventListener("touchmove",function(e){o.carousel.style.transition="";var t=e.touches[0];o.endPostionX=t.clientX,this.distance=o.endPostionX-o.startPostionX;var n=-o.currentIndex*o._w+this.distance;0!=this.distance&&e.preventDefault(),0==o.currentIndex&&0<this.distance||(this.style.transform="translate3d("+n+"px, 0, 0)")}),this.carousel.addEventListener("touchend",function(e){var t=e.changedTouches[0].clientX-o.startPostionX;0==o.currentIndex&&0<t||(o.autoPlay(),t<0&&(o.currentIndex++,o.turningPage("<--")),0<t&&(o.currentIndex--,o.turningPage("--\x3e")))})},mCarouselNew.prototype.cancelPlay=function(){clearInterval(this.handler)},mCarouselNew.prototype.autoPlay=function(){var e=this;this.handler=setInterval(function(){e.currentIndex++,e.turningPage()},this.intervel)},mCarouselNew.prototype.resetCSS=function(){this.cancelPlay(),this._w=getComputedStyle(this.carousel.parentNode,null).width.replace("px",""),"100%"==this._w&&(this._w=document.documentElement.clientWidth,640<this._w&&(this._w="640")),this.silders[this.currentIndex%this.sildersLen].style.width=this._w+"px",this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px";for(var e=0;e<this.sildersLen;e++)this.silders[e].style.width=this._w+"px";this.carousel.style.transition="",this.carousel.style.transform="translate3d("+-this.currentIndex*this._w+"px, 0, 0)",this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px",1<this.sildersLen&&this.autoPlay()},mCarouselNew.prototype.monitorOrientation=function(){var e=this;window.addEventListener("orientationchange",function(){setTimeout(function(){e.resetCSS()},200)})},mCarouselNew.prototype.start=function(){this.init(),this.monitorOrientation(),this.stopCarousel||this.autoPlay()}}IMKTOOLS.getCookie=function(e){var t="",n=[],o=new RegExp("^"+e+"=","ig");if(document.cookie)for(var i=0,a=(n=document.cookie.split(";")).length;i<a;i++)if(o.test(n[i].trim())){t=n[i].split("=")[1];break}return t},IMKTOOLS.parseURL=function(e){var a=document.createElement("a");return{source:a.href=e,protocol:a.protocol&&a.protocol.replace(":",""),host:a.hostname,port:a.port,query:a.search,params:function(){for(var e,t={},n=a.search.replace(/^\?/,"").split("&"),o=n.length,i=0;i<o;i++)n[i]&&(t[(e=n[i].split("="))[0]]=e[1]);return t}(),file:(a.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:a.hash.replace("#",""),path:a.pathname.replace(/^([^\/])/,"/$1"),relative:(a.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:a.pathname.replace(/^\//,"").split("/")}},IMKTOOLS.ImkLogCollector=function(){var e=IMKTOOLS.parseURL(location.href).params,o=e&&e.imkUserId||IMKTOOLS.getCookie("visitkey")||"imk"+1e4*Math.random();return{collect:function(e,t,n){o&&e&&""!==t&&((new Image).src="https://wq.jd.com/bases/ylmonitor/preArousal?app=jdapp&refer="+encodeURIComponent(location.href)+"&imkUserId="+o+"&type="+e+"&msg="+t+(n?"&ext="+JSON.stringify(n):"")+"&t="+Math.random())}}}(),IMKTOOLS.BadJSService=function(){var o={"https://imk2.jd.com/auto/open/app/configCenter/ajax/success/exception":1,"https://imk2.jd.com/auto/open/app/closeUaAjaxPrame/ajax/success/exception":2,"https://imk2.jd.com/auto/open/app/convertOptions/url":3,"https://imk2.jd.com/auto/open/app/convertOptions/intervalTime":4,"https://imk2.jd.com/auto/open/app/jsonParseError":5,"https://imk2.jd.com/auto/open/app/getIntentUrl":6,"https://imk2.jd.com/auto/open/app/checkShield":7,"https://imk2.jd.com/auto/open/app/addCookieByJsonp":8,"https://imk2.jd.com/auto/open/app/wechat/jweixin/load":31,"https://imk2.jd.com/auto/open/app/wechat/config/checkJsApi":32,"https://imk2.jd.com/auto/open/app/wechat/check/result":33,"https://imk2.jd.com/auto/open/app/wechat/config/result":34,"https://imk2.jd.com/auto/open/app/wechat/config/permission":35,"https://imk2.jd.com/auto/open/app/wechat/invoke/result":36,"https://imk2.jd.com/auto/open/app/wechat/config/launchResult":37,"https://imk2.jd.com/auto/open/app/wechat/config/other":38};return{error:function(e,t,n){t&&e&&""!==t&&""!==e&&((new Image).src="https://wq.jd.com/webmonitor/collect/badjs.json?Content="+encodeURIComponent(" [ "+new Date+" ] "+t)+"&referer="+encodeURIComponent(e+"?wq")+"&t="+Math.random(),IMKTOOLS.ImkLogCollector.collect(o[e],t,n))}}}(),IMKTOOLS.UMPService=function(){var o="https://wq.jd.com/webmonitor/collect/biz.json?contents=",i=[],a=null;return{umpBiz:function(e){var t;if(e=function(e){return Array.isArray(e)?"object"==typeof e[0]?e:{operation:e[0]||"",result:e[1]||"",message:e[2]||"",source:e[3]||"0"}:e}(e),2<Math.floor(10*Math.random()))return!1;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t.push("1116|"+e[n].operation+"|"+e[n].result+"|"+e[n].source+"|"+encodeURIComponent(String(e[n].message).replace(/,/g," "))+(window.traceid?"|"+window.traceid:""));t=t.join(",")}else if(t="1116|"+e.operation+"|"+e.result+"|"+e.source+"|"+encodeURIComponent(String(e.message).replace(/,/g," "))+(window.traceid?"|"+window.traceid:""),e&&e.notCombo)return(new Image).src=o+t+"&t="+Math.random(),!1;i.push(t),a||(a=setTimeout(function(){(new Image).src=o+i.join(",")+"&t="+Math.random(),i=[],a=null},1e3))}}}(),IMKTOOLS.isInM_item=function(){return/^https?:\/\/item\.m\.jd\.com/.test(location.href)||/^https?:\/\/mitem\.jd\.hk/.test(location.href)||/^https?:\/\/m\.yiyaojd\.com/.test(location.href)||/^https?:\/\/mitem\.jdworldwide\.com/.test(location.href)||/^https?:\/\/mitem\.jkcsjd\.com/.test(location.href)},window.IMK2_COMMON_OPTION={imk2AppDownloadURL4Apple:"//wqs.jd.com/downloadApp/imk.html",imk2AppDownloadURL:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m",imk2OpenAppType:0},window.imk2Handler=function(){var e=document.URL.toLowerCase(),k=IMKTOOLS.parseURL(e).params,m=k.ad_od,u=k.pc_source,f=k.dl_abtest||"",h=navigator.userAgent,l=null!=h.match(/Chrome/i)&&null==h.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i),x=!!h.match(/(Android);?[\s\/]+([\d.]+)?/),g=!!h.match(/(iPad).*OS\s([\d_]+)/),c=!!h.match(/(Mac\sOS)\sX\s([\d_]+)/),w=!(g||!h.match(/(iPhone\sOS)\s([\d_]+)/)),d=(w||g)&&h.match(/Safari/),I=-1<navigator.userAgent.indexOf("MicroMessenger"),p=0,t=h.match(/(iPhone\sOS)\s([\d_]+)/),v=t&&2<t.length&&0<t[2].split("_").length?t[2].split("_")[0]:"";d&&(p=h.match(/Version\/([\d\.]+)/));try{p=parseFloat(p[1],10)}catch(e){}var y=-1!=h.toUpperCase().indexOf("SAMSUNG-SM-N7508V"),S=-1!=h.toLocaleLowerCase().indexOf("miniprogram"),A="plugIn_downloadAppPlugIn_loadIframe",C=!1,i={},o=null,n={},a=!(!window.Zepto&&!window.jQuery),r=[],s=Math.floor(100*Math.random())+1,_=-1<h.indexOf("jdpingou")||-1<h.indexOf("jdapp"),b=-1<h.indexOf("jdpingou"),j=1==k.allowjdapp,O=0<=h.indexOf("jdapp"),T=1==k.imkadaptblankpagerequest,P=1==k.paramsencodegray,U=null,L=null,D={},E=IMKTOOLS.getCookie,B=IMKTOOLS.parseURL(location.href).params.extension_id,M=1==k.useulinvoke;function N(){S="miniprogram"===window.__wxjs_environment;var e=document.querySelector(".carousel-wrapper")||document.querySelector(".download-pannel.download-noBg");S&&e&&e.parentNode&&(e.parentNode.style.display="none")}window.WeixinJSBridge&&window.WeixinJSBridge.invoke?N():document.addEventListener("WeixinJSBridgeReady",N,!1),-1!=h.indexOf("baiduboxapp")&&-1!=h.indexOf("light")&&(m&&(1==m||2==m||3==m)||u||(_=b=!0));var J=!1,F=null,R={closeUaAjax:!1,keplerAjax:!1,configCenterAjax:!1},H={AROUSAL_APP:!0,DOWNLOAD_LAYER:!0,GENERAL_HEAD:!0,msf_type:"auto",cooldown_time:0,scheme_prame:"",use_universallinks:!0,appDownCloseIntervalTime:0,appDownOpenIntervalTime:0,downAppConfigData:null,isNewUser:!1,isOpenWechat:!0,wechetSchemeSw:0,sideDownAppConfigData:null,downAppUrl:"http://h5.m.jd.com/active/download/imk.html",mediaConfigData:null,test:{wxa_abtest:k.wxa_abtest}},G={mediaTimes:"mediaTimes",stepTime:"stepTime",firstAdChannelURL:"firstAdChannelURL"},q={keplerID:null,keplerFrom:1,keplerParamJson:null},K={isUniversalLinksUa:!1,isUniversalLinksOs:!1,isUseUniversalLinks:!1},W={login_State:!1,pcScan_Layer:null,newPeople_Layer:null},X={url:"//mapi.m.jd.com/config/display.action?isNewVersion=1&_format_=json"+(-1<location.href.indexOf("showSide=true")||-1<location.href.indexOf("showside=true")?"&showside=true":"")+function(){var e,t,n;t=location.href,n=-1<(e=t.indexOf("?"))?"&"+t.substring(e+1,t.length):"";return n}(),method:"POST",async:!0,timeout:1400,withCredentials:!0,hasAjax:"configCenterAjax",hasAjaxSend:!1,error:function(){R.configCenterAjax=!0},success:function(t){R.configCenterAjax=!0;try{(function(e){if(e){if(e.data)for(var t=0;t<e.data.length;t++){var n=e.data[t];n.compent&&H.hasOwnProperty(n.compent)&&(H[n.compent]=n.display,"AROUSAL_APP"==n.compent&&n.msf_type&&(H.msf_type=n.msf_type,e.cooldown&&e.cooldown[n.msf_type]&&(H.cooldown_time=e.cooldown[n.msf_type]),n.openAppParam&&(H.scheme_prame=n.openAppParam),n.hasOwnProperty("isSpportUL")&&!n.isSpportUL&&(H.use_universallinks=!1)))}e.kepler&&(e.kepler.kepler_data&&e.kepler.kepler_data.keplerID&&e.kepler.kepler_data.keplerFrom&&(q.keplerID=e.kepler.kepler_data.keplerID,q.keplerFrom=e.kepler.kepler_data.keplerFrom),e.kepler.kepler_param&&(q.keplerParamJson=JSON.stringify(e.kepler.kepler_param))),e.isNewUser&&(H.isNewUser=!0),e.loginState&&(W.login_State=e.loginState),e.shieldingLayer&&(W.pcScan_Layer=e.shieldingLayer.pcScan_Layer||"",W.newPeople_Layer=e.shieldingLayer.newPeople_Layer||""),e.openSendOutUrl&&(J=e.openSendOutUrl),e.coolDownTimeUtil&&(F=e.coolDownTimeUtil),e.downAppConfigData&&(H.downAppConfigData=e.downAppConfigData),H.isOpenWechat=!!e.isOpenWechat,e.sideDownAppConfigData&&(H.sideDownAppConfigData=e.sideDownAppConfigData),e.downAppUrl&&(H.downAppUrl=e.downAppUrl),e.mediaConfigData&&(H.mediaConfigData=e.mediaConfigData),e.carouselDownAppConfigData&&(H.carouselDownAppConfigData=e.carouselDownAppConfigData),e.openAppParaFromUcc&&(H.openAppParaFromUcc=e.openAppParaFromUcc),e.downLoadPageSchema&&(H.downLoadPageSchema=e.downLoadPageSchema),e.wxDownloadSchema&&(H.wxDownloadSchema=e.wxDownloadSchema),e.wechetSchemeSw&&(H.wechetSchemeSw=e.wechetSchemeSw),f&&(H.wxDownloadSchema="a"==f?x?"a":"c":f,de()&&IMKTOOLS.isInM_item()&&(H.wxDownloadSchema="o",H.isOpenWechat=!0)),e.imkFrontGray&&(H.imkFrontGray=e.imkFrontGray,H.encodeGray=P||x||e.imkFrontGray&&e.imkFrontGray.iosEncodeGray,H.fixedSideLayerGray=e.imkFrontGray&&e.imkFrontGray.fixedSideLayerGray)}})(t=JSON.parse(t))}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/configCenter/ajax/success/exception","configCenterAjaxPrame Exception："+e+", rs = "+t)}}},z={url:"//mapi.m.jd.com/config/closeUa.action?isNewVersion=1&_format_=json",method:"POST",async:!0,timeout:1200,hasAjax:"closeUaAjax",hasAjaxSend:!1,error:function(){R.closeUaAjax=!0},success:function(t){R.closeUaAjax=!0;try{(t=JSON.parse(t))&&t.ua&&function(e){if(e){if(e&&e.clickCloseUa)for(var t=e.clickCloseUa.split("|"),n=0;n<t.length;n++){var o=t[n];if(o&&0<=h.indexOf(o)){_=!0;break}}if(e&&!_&&e.closeUaMoreKeys)for(var n=0;n<e.closeUaMoreKeys.length;n++){var i=e.closeUaMoreKeys[n];if(i&&i.uaMoreKeys){for(var a=i.uaMoreKeys.split("|"),r=0,s=0,l=0;l<a.length;l++){var c=a[l];c&&s++,c&&0<=h.indexOf(c)&&r++}_=s==r||_}if(_)break}if(e&&e.autoCloseBrowser)for(var n=0;n<e.autoCloseBrowser.length;n++){var c=e.autoCloseBrowser[n];if(c.browser&&c.abtest&&0<=h.indexOf(c.browser)){Ce(c.abtest);break}}if(!b&&e&&e.autoCloseOs)for(var n=0;n<e.autoCloseOs.length;n++){var c=e.autoCloseOs[n];if("IOS"==c.os&&c.abtest&&(g||w)){Ce(c.abtest);break}if("Android"==c.os&&c.abtest&&x){Ce(c.abtest);break}}if(!b&&e&&e.autoCloseOsAndBrowser)for(var n=0;n<e.autoCloseOsAndBrowser.length;n++){var c=e.autoCloseOsAndBrowser[n];if(c.os&&c.browser&&c.abtest&&"IOS"==c.os&&(g||w)&&0<=h.indexOf(c.browser)){Ce(c.abtest);break}if(c.os&&c.browser&&c.abtest&&"Android"==c.os&&x&&0<=h.indexOf(c.browser)){Ce(c.abtest);break}}if(b&&0<=h.indexOf("jdapp")&&j&&(b=!1),e&&e.universalLinksUa)for(var d=e.universalLinksUa.split("|"),n=0;n<d.length;n++){var o=d[n];if(o&&0<=h.indexOf(o)&&!x){K.isUniversalLinksUa=!0;break}}if(e&&e.universalLinksOs)for(var p=e.universalLinksOs.split("|"),n=0;n<p.length;n++){var o=p[n];if(o&&v&&o==v&&8<v){K.isUniversalLinksOs=!0;break}}e&&e.appDownCloseIntervalTime&&(H.appDownCloseIntervalTime=e.appDownCloseIntervalTime),e&&e.appDownOpenIntervalTime&&(H.appDownOpenIntervalTime=e.appDownOpenIntervalTime),-1!=h.indexOf("baiduboxapp")&&-1!=h.indexOf("light")&&(m&&(1==m||2==m||3==m)||u||(_=b=!0))}}(t=JSON.parse(t.ua))}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/closeUaAjaxPrame/ajax/success/exception","closeUaAjaxPrame Exception："+e+", rs = "+t)}}};function V(e,t,n){a?o("#"+e).bind(t,n):o("#"+e).addEventListener(t,n,!1)}function Q(e,t,n,o,i){var a=e+"="+escape(t);if(""!=n){var r=new Date;r.setTime(r.getTime()+24*n*3600*1e3),a+=";expires="+r.toGMTString()}""!=o&&(a+=";path="+o),""!=i&&(a+=";domain="+i),document.cookie=a}function Y(t,e){var n=!1,o=[];return 2==e&&["%5C"].forEach(function(e){-1<t.indexOf(e)&&(n=!0,o.push(e))}),{illegal:n,illegalCharacters:o}}function Z(e){if(!e)return!1;if(0<e.indexOf("?"))return!1;var t=decodeURIComponent(e);return 0<t.indexOf("?")||e!=t}function ee(e,t){try{var n=JSON.stringify(e),o=Y(n,2);o.illegal&&IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/convertOptions/url","optionsStr:"+n+", illegalJSONCharacters = "+o.illegalCharacters.join("_")+", CurrentURL = "+location.href)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/convertOptions/url","e:"+e+",  CurrentURL = "+location.href)}var i=null;if(i=t?{downAppURl:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m",downAppIos:"//wqs.jd.com/downloadApp/imk.html",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",downAppIosPage:"//wqs.jd.com/downloadApp/imk.html",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",M_sourceFrom:"mxz",NoJumpDownLoadPage:!1,kepler_param:null,autoOpenAppEventId:"MDownLoadFloat_AppArouse",autoOpenAppEventParam:"",autoOpenIntervalTime:0,autoOpenAppCallback:null,autoOpenAppCallbackSource:null,cookieFlag:null,noJdApp:!1,universalLinksUrl:"https://linkst.m.jd.com"}:{downAppURl:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m",downAppIos:"//wqs.jd.com/downloadApp/imk.html",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",downAppIosPage:"//wqs.jd.com/downloadApp/imk.html",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,openAppBtnId:"",closePanelBtnId:"",closePanelId:"",openAppCallback:null,openAppCallbackSource:null,closeCallblack:null,closeCallblackSource:null,cookieFlag:null,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",openAppEventId:"MDownLoadFloat_OpenNow",openAppEventParam:"",closePanelEventId:"MDownLoadFloat_Close",closePanelEventParam:"",appDownCloseIntervalTime:0,appDownOpenIntervalTime:0,noRecord:!1,isnotWriteOpenAppCookie:!1,M_sourceFrom:"mxz",msf_type:"click",NoJumpDownLoadPage:!1,kepler_param:null,noJdApp:!1,universalLinksUrl:"https://linkst.m.jd.com"},e)for(var a in e)if(a&&e[a]||"appDownCloseIntervalTime"==a&&0==e[a]||"appDownOpenIntervalTime"==a&&0==e[a]||"autoOpenIntervalTime"==a&&0==e[a])if("appDownCloseIntervalTime"==a||"appDownOpenIntervalTime"==a||"autoOpenIntervalTime"==a){if(/^(-     |\+)?\d+$/.test(e[a])&&0<=e[a])try{var r=parseInt(e[a],10);i[a]=r}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/convertOptions/intervalTime","ConvertOptions intervalTime："+e)}}else{var s=e[a];"inteneUrlParams"==a&&s.url&&(Z(s.url)?IMKTOOLS.UMPService.umpBiz({operation:"50",result:"0",source:"0",message:"url param:"+s.url+",  CurrentURL = "+location.href}):s.url=encodeURIComponent(s.url)),i[a]=s}return i}function te(e){var t=e&&e.inteneUrlParams&&("quickpass"==e.inteneUrlParams.des||"jdpaymentcode"==e.inteneUrlParams.des||"worthbuy_list"==e.inteneUrlParams.des)?ae(e,!0):ie(e,!0),n=e.universalLinksUrl+"/ul/ul.action?"+t;if(0<=navigator.userAgent.indexOf("baidubrowser"))window.location.href=n;else{var o=document.createElement("a");o.setAttribute("href",n),o.style.display="none",document.body.appendChild(o);var i=document.createEvent("HTMLEvents");i.initEvent("click",!1,!1),o.dispatchEvent(i)}}function ne(e){var t,n,o;if(g)return e.downIpad;if(e.downAppURl){var i=e.downAppURl.split("?");o=i[1]?i[1]:"channel=jd-m"}if(H.downLoadPageSchema){if("o"===(n=H.downLoadPageSchema))return"//wqs.jd.com/downloadApp/imk.html?"+o;if("a"===n)return"//wqs.jd.com/downloadApp/downloadAppA.html?"+o;if("b"===n)return"//wqs.jd.com/downloadApp/downloadAppB.html?"+o}else t=w?e.downAppIos:e.downAppURl;return t}function oe(n){var o=n&&n.inteneUrlParams&&("quickpass"==n.inteneUrlParams.des||"jdpaymentcode"==n.inteneUrlParams.des||"worthbuy_list"==n.inteneUrlParams.des)?ae(n):ie(n),i=ne(n);o=function(e){var t,n,o;if(H.openAppParaFromUcc){var i=H.openAppParaFromUcc,a=e.split("params="),r=JSON.parse(a[1]),s=function(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n}(r,i);e=a[0]+"params="+JSON.stringify(s)}t=Ee(location.href),n={},"item.m.jd.com"==location.host&&(t.wjfrom&&(n.wjfrom=t.wjfrom),t.wjwxpubid&&(n.wjwxpubid=t.wjwxpubid),t.wjunionid&&(n.wjunionid=t.wjunionid),t.wjopenid&&(n.wjopenid=t.wjopenid),t.shareActivityId&&(n.shareActivityId=t.shareActivityId),t.shareRuleType&&(n.shareRuleType=t.shareRuleType),t.shareToken&&(n.shareToken=t.shareToken));"shop.m.jd.com"==location.host&&(t.shareActivityId&&(n.shareActivityId=t.shareActivityId),t.shareRuleType&&(n.shareRuleType=t.shareRuleType),t.shareToken&&(n.shareToken=t.shareToken));-1<location.href.indexOf("ShareTm=")&&t.ShareTm&&(n.ShareTm=t.ShareTm);-1<location.href.indexOf("sharetm=")&&t.sharetm&&(n.sharetm=t.sharetm);-1<location.href.indexOf("shareTm=")&&t.shareTm&&(n.shareTm=t.shareTm);o=JSON.stringify(n);try{var l=Y(o,2);l.illegal&&IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","_str:"+o+", illegalJSONCharacters = "+l.illegalCharacters.join("_")+", CurrentURL = "+location.href)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","e:"+e+",  CurrentURL = "+location.href)}"{}"!=o&&(e=e.replace("={","={"+o.substring(1,o.length-1)+","));return e}(o);var e="",t=n.inteneUrl.split("://"),a=(t[1]||"").split("?"),r="";H.scheme_prame&&(r="/"+H.scheme_prame),e=2==a.length&&a[1]?a[0]+r+"?"+a[1]+"&params=":a[0]+r+"?params=";var s=o.split(e)[1];s=decodeURIComponent(s);try{JSON.parse(s)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/jsonParseError","params json parse Exception："+e+",encodeGray="+H.encodeGray+",  CurrentURL = "+location.href)}if(function(e){if(e&&-1<location.href.indexOf("showxintent")){var t=xe()?"自动唤起":"点击唤起";console.log("%c"+e,"color: blue;"),alert(t+" >>>"+e)}}(o),H.isOpenWechat&&-1<navigator.userAgent.indexOf("MicroMessenger")){if(S)return;new wxOpenApp(s,{splitStr:e,configCenter:H,NoJumpDownLoadPage:n.NoJumpDownLoadPage})}else H.encodeGray&&(o=t[0]+"://"+e+encodeURIComponent(s)),function(){(l&&x||y)&&(o=function(e){return"intent://m.jd.com/#Intent;scheme="+e+";package=com.jingdong.app.mall;end"}(o),setTimeout(function(){window.location.href=o},50));if(d&&9<=p||c||w&&-1<navigator.userAgent.indexOf("MQQBrowser"))setTimeout(function(){var e=document.createElement("a");e.setAttribute("href",o),e.style.display="none",document.body.appendChild(e);var t=document.createEvent("HTMLEvents");t.initEvent("click",!1,!1),e.dispatchEvent(t)},0);else if(!C&&T){var e=document.createElement("iframe");e.id=A,e.src=o,document.body.appendChild(e),document.getElementById(A).style.display="none",document.getElementById(A).style.width="0px",document.getElementById(A).style.height="0px",C=!0}else document.querySelector("#"+A).src=o;if(!n.NoJumpDownLoadPage){var t=Date.now();setTimeout(function(){setTimeout(function(){!function(e,t){var n=Date.now();e&&n-e<5e3&&(window.location.href=t)}(t,i)},1500)},100)}}()}function ie(e,t){if(B)return ae(e,t);var n,o=[],i=e.inteneUrlParams,a={category:"jump",des:"HomePage"};if(e.sourceType&&e.sourceValue&&(a.sourceType=e.sourceType,a.sourceValue=e.sourceValue,!i||i.sourceType||i.sourceValue||(i.sourceType=e.sourceType,i.sourceValue=e.sourceValue)),e&&e.M_sourceFrom&&(t&&(e.M_sourceFrom=0<=e.M_sourceFrom.indexOf("_UL")?e.M_sourceFrom:e.M_sourceFrom+"_UL"),a.M_sourceFrom=e.M_sourceFrom,i&&(i.M_sourceFrom=e.M_sourceFrom)),i)for(var r in i)r&&i[r]&&("[object Object]"===Object.prototype.toString.call(i[r])?o.push('"'+r+'":'+JSON.stringify(i[r])):o.push('"'+r+'":"'+i[r]+'"'));else for(var r in a)r&&a[r]&&o.push('"'+r+'":"'+a[r]+'"');e&&e.msf_type&&o.push('"msf_type":"'+e.msf_type+'"'),q.keplerID&&(H.encodeGray?o.push('"keplerID":"'+q.keplerID+'"'):o.push('"keplerID":"'+encodeURIComponent(q.keplerID)+'"'),o.push('"keplerFrom":"'+q.keplerFrom+'"')),q.keplerParamJson&&(H.encodeGray?o.push('"kepler_param":'+q.keplerParamJson):o.push('"kepler_param":'+encodeURIComponent(q.keplerParamJson))),t&&(o.push('"NoJumpDownLoadPage":'+e.NoJumpDownLoadPage),o.push('"downAppIos":"'+encodeURIComponent(e.downAppIos)+'"'),o.push('"locationHref":"'+encodeURIComponent(window.location.href)+'"'));try{var s=window.MPing&&MPing.EventSeries&&MPing.EventSeries.getSeries&&MPing.EventSeries.getSeries(),l={};if(s){try{(n=s)&&n!=decodeURIComponent(n)&&IMKTOOLS.UMPService.umpBiz({operation:"30",result:"0",source:"0",message:"m_param:"+s+", isEncoded, CurrentURL = "+location.href})}catch(e){}for(var r in l=JSON.parse(s))r&&l[r]&&(l[r]=H.encodeGray||"utr"!=r&&"umd"!=r&&"ucp"!=r?l[r]:encodeURIComponent(l[r]));e.jdv?l.jdv=e.jdv:l.jdv=H.encodeGray?E("__jdv"):encodeURIComponent(E("__jdv")),l.unpl=H.encodeGray?E("unpl"):encodeURIComponent(E("unpl")),l.mt_xid=H.encodeGray?E("mt_xid"):encodeURIComponent(E("mt_xid")),l.mt_subsite=H.encodeGray?E("mt_subsite"):encodeURIComponent(E("mt_subsite"))}var c={};c=H.encodeGray?{mt_subsite:E("mt_subsite"),__jdv:E("__jdv"),unpl:E("unpl"),__jda:E("__jda")}:{mt_subsite:encodeURIComponent(E("mt_subsite")),__jdv:encodeURIComponent(E("__jdv")),unpl:encodeURIComponent(E("unpl")),__jda:encodeURIComponent(E("__jda"))},s=JSON.stringify(l),O||(o.push('"m_param":'+s),o.push('"SE":'+JSON.stringify(c))),f&&o.push('"dl_abtest":"'+encodeURIComponent(f)+'"')}catch(e){o.push('"m_param":null'),IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","getIntentUrl() Exception："+e+",encodeGray="+H.encodeGray)}var d="{"+o.join(",")+"}";try{var p=Y(d,1);p.illegal&&IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","parametersStr:"+d+", illegalCharacters = "+p.illegalCharacters.join("_")+", CurrentURL = "+location.href),(p=Y(d,2)).illegal&&IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","parametersStr:"+d+", illegalJSONCharacters = "+p.illegalCharacters.join("_")+", CurrentURL = "+location.href)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","e:"+e+",  CurrentURL = "+location.href)}var m=e.inteneUrl.split("?"),u=null,h="";(H.scheme_prame&&(h="/"+H.scheme_prame),u=2==m.length&&m[1]?m[0]+h+"?"+m[1]+"&params="+d:m[0]+h+"?params="+d,J)&&pe({url:"//ccc-x.jd.com/dsp/op?openapp_url="+encodeURI(d)+"&openapp_source_type=100",method:"GET",async:!0,timeout:1e3,error:function(){},success:function(e){}});return u}function ae(e,t){var n=e.inteneUrlParams||{};e.sourceType&&e.sourceValue&&(n.sourceType||n.sourceValue||(n.sourceType=e.sourceType,n.sourceValue=e.sourceValue)),e&&e.M_sourceFrom&&(t&&(e.M_sourceFrom=0<=e.M_sourceFrom.indexOf("_UL")?e.M_sourceFrom:e.M_sourceFrom+"_UL"),n.M_sourceFrom=e.M_sourceFrom),e&&e.msf_type&&(n.msf_type=e.msf_type),q.keplerID&&(n.keplerID=q.keplerID,n.keplerFrom=q.keplerFrom),q.keplerParamJson&&(n.kepler_param=q.keplerParamJson),t&&(n.NoJumpDownLoadPage=e.NoJumpDownLoadPage,n.downAppIos=encodeURIComponent(e.downAppIos),n.locationHref=encodeURIComponent(window.location.href));try{var o=window.MPing&&MPing.EventSeries&&MPing.EventSeries.getSeries&&MPing.EventSeries.getSeries(),i={};if(o){for(var a in i=JSON.parse(o))a&&i[a]&&(i[a]=H.encodeGray||"utr"!=a&&"umd"!=a&&"ucp"!=a?i[a]:encodeURIComponent(i[a]));e.jdv?i.jdv=e.jdv:i.jdv=E("__jdv"),i.unpl=E("unpl"),i.mt_xid=E("mt_xid"),i.mt_subsite=E("mt_subsite")}var r={mt_subsite:E("mt_subsite"),__jdv:E("__jdv"),unpl:E("unpl"),__jda:E("__jda")};O||(n.m_param=i,n.SE=r),f&&(n.dl_abtest=encodeURIComponent(f))}catch(e){n.m_param=null}B&&(n.ext=function(e){var t,n,o,i,a,r,s;r=e.length,a=0,s="";for(;a<r;){for(;t=Be[255&e.charCodeAt(a++)],a<r&&-1==t;);if(-1==t)break;for(;n=Be[255&e.charCodeAt(a++)],a<r&&-1==n;);if(-1==n)break;s+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(o=255&e.charCodeAt(a++)))return s;o=Be[o]}while(a<r&&-1==o);if(-1==o)break;s+=String.fromCharCode((15&n)<<4|(60&o)>>2);do{if(61==(i=255&e.charCodeAt(a++)))return s;i=Be[i]}while(a<r&&-1==i);if(-1==i)break;s+=String.fromCharCode((3&o)<<6|i)}return s}(B));var s=JSON.stringify(n),l=e.inteneUrl.split("?"),c=null,d="";(H.scheme_prame&&(d="/"+H.scheme_prame),c=2==l.length&&l[1]?l[0]+d+"?"+l[1]+"&params="+s:l[0]+d+"?params="+s,J)&&pe({url:"//ccc-x.jd.com/dsp/op?openapp_url="+encodeURI(s)+"&openapp_source_type=100",method:"GET",async:!0,timeout:1e3,error:function(){},success:function(e){}});return c}function re(e){if(I&&(!de()||!IMKTOOLS.isInM_item()))if("a"==H.wxDownloadSchema){if(x){var t=document.querySelector("#imkWxDownloadTipContainer");if(t)return t.style.display="block",void ue("MGuide_WXTopFloatAExpo")}}else if("b"==H.wxDownloadSchema||"c"==H.wxDownloadSchema){var n=ne(L),o=n&&n.split("?")[1],i="";try{U&&(delete U.openAppBtnId,delete U.closePanelBtnId,delete U.closePanelId,delete U.NoJumpDownLoadPage,delete U.downAppIos,U.downAppURl&&(U.a=U.downAppURl.split("?")[1],delete U.downAppURl),U.downWeixin&&(U.w=U.downWeixin.split("?")[1],delete U.downWeixin),U.downIpad&&(U.w=U.downIpad.split("?")[1],delete U.downIpad),U.inteneUrlParams&&f&&(U.inteneUrlParams.dl_abtest=f),i=JSON.stringify(U))}catch(e){}var a="b"==H.wxDownloadSchema?"https://wqs.jd.com/downloadApp/openApp.html?":"https://wqs.jd.com/downloadApp/openOrDownloadApp.html?";return a+=o+"&imkParam="+encodeURIComponent(i),void(window.location.href=a)}if(ke("0"),!C&&!T){var r=document.createElement("iframe");r.id=A,document.body.appendChild(r),document.getElementById(A).style.display="none",document.getElementById(A).style.width="0px",document.getElementById(A).style.height="0px",C=!0}if(e.openAppCallback){var s=e.openAppCallbackSource?e.openAppCallbackSource:null;e.openAppCallback.call(this,s)}le(e,"appDownOpenIntervalTime"),_e(e),!K.isUseUniversalLinks&&!M||e.noJdApp?oe(e):te(e)}function se(e,t){if(e.closePanelBtnId&&e.closePanelId&&document.querySelector("#"+e.closePanelId)&&document.querySelector("#"+e.closePanelBtnId)){if(me((i[e.closePanelBtnId]=e).closePanelBtnId,e.closePanelEventId,e.closePanelEventParam),!t){if(ce(e)){if(document.querySelector("#"+e.closePanelId).style.display="none",e.closeCallblack){var n=event||window.event,o=e.closeCallblackSource?e.closeCallblackSource:null;e.closeCallblack.call(this,o,n)}return}document.querySelector("#"+e.closePanelId).style.display="block"}V(e.closePanelBtnId,"click",function(){var e=this.getAttribute("id"),t=i[e];if(le(t,"appDownCloseIntervalTime"),document.querySelector("#"+t.closePanelId).style.display="none",t.closeCallblack){var n=event||window.event,o=t.closeCallblackSource?t.closeCallblackSource:null;t.closeCallblack.call(this,o,n)}})}}function le(e,t){var n=null;e.cookieFlag&&e[t]?n="downloadAppPlugIn_downCloseDate_"+e.cookieFlag:(n="downloadAppPlugIn_downCloseDate",e[t]=H[t]),!e.isnotWriteOpenAppCookie&&e[t]&&(document.domain.indexOf(".m.jd.com")<0&&"m.jd.com"!=document.domain?Ie(n,e[t]):(Q(n,Date.now()+"_"+e[t],60,"/",".m.jd.com"),Q(n,Date.now()+"_"+e[t],60,"/","m.jd.hk")))}function ce(e,t){if(de()&&IMKTOOLS.isInM_item())return!1;if(t&&I&&("a"==H.wxDownloadSchema&&x||"b"==H.wxDownloadSchema||"c"==H.wxDownloadSchema))return!0;if(t&&!I&&x&&"openbrowser"==k.action)return!1;var n=E(G.mediaTimes),o=E(G.stepTime);if(n&&o){var i=parseInt(n),a=parseInt(o);return!(i&&a&&0<i&0<a&&i%a==0)}var r=!1,s=null;if(t)s=H.msf_type&&"auto"==H.msf_type&&e.cookieFlag&&e.autoOpenIntervalTime?"autoOpenApp_downCloseDate_"+e.cookieFlag:"autoOpenApp_downCloseDate_"+H.msf_type,!b&&H.AROUSAL_APP||(r=!0);else{var l=h.indexOf("jdmsxh"),c=h.indexOf("jdmsxh2");(0<=h.indexOf("Html5Plus")||0<=l&&l!=c||_||!H.DOWNLOAD_LAYER)&&(r=!0),s=e.cookieFlag&&e.appDownCloseIntervalTime?"downloadAppPlugIn_downCloseDate_"+e.cookieFlag:"downloadAppPlugIn_downCloseDate"}var d=E(s);!d&&R.configCenterAjax&&document.domain.indexOf(".m.jd.com")<0&&"m.jd.com"!=document.domain&&F&&F.hasOwnProperty(s)&&(d=F[s]);var p=null;d&&(2==(p=d.split("_")).length?(p[0]=parseInt(p[0],10),p[1]=parseInt(p[1],10)):p=null);var m=Date.now();return!r&&!e.noRecord&&p&&2==p.length&&m-p[0]<p[1]&&(e.closePanelBtnId||t)&&(r=!0),r}function de(){return"a"==f||"b"==f}function pe(n){var o;try{o=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{o=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){o=new XMLHttpRequest}}if(o.ajaxRunError=!0,n.withCredentials)try{o.withCredentials=!0}catch(e){}"storage.360buyimg.com"===location.host&&-1<location.href.indexOf("mvision/middle")&&(n.method="GET");try{o.open(n.method,n.url,n.async),o.onreadystatechange=function(){var e=n.source?n.source:null;if(4==o.readyState)if(200==o.status){o.ajaxRunError=!1;var t=o.responseText;n.success&&n.success.call(e,t)}else n.error&&n.error.call(e)},(w||g)&&-1<navigator.userAgent.indexOf("QQBrowser")?o.send("xxxxx=ccccc"):o.send(null)}catch(e){}}function me(e,t,n){try{var o=document.getElementById(e),i=o.className;i?i+=" J_ping":i="J_ping",o.className=i,o.setAttribute("report-eventid",t),n&&o.setAttribute("report-eventparam",n)}catch(e){}}function ue(e,t){if(window.MPing)try{var n=new MPing.inputs.Click(e);t&&(n.event_param=t),(new MPing).send(n)}catch(e){console.log("imk2 send ping error: %o ",e)}}function he(e,t,n){var o=t||1,i=!!n;if(!ce(e)&&e.closePanelId){var a=document.getElementById(e.closePanelId);if(a){var r=a.getBoundingClientRect(),s=r.height||r.bottom-r.top,l=fe(a,"opacity"),c=fe(a,"display");c&&s&&"none"!=c&&0==s?i=!0:s&&l&&50==s&&0==l&&(i=!0)}else i=!0;o<3&&0==i&&(o++,setTimeout(function(){he(e,o,i)},2e3))}if(i)try{if(window.MPing){var d=new MPing.inputs.Click("MDownLoadFloat_FloatShield"),p=new MPing;d.event_param=e.openAppEventId,p.send(d)}pe({url:"//mapi.m.jd.com/config/checkShield.action?isNewVersion=1&_format_=json",method:"POST",async:!0,timeout:1e3})}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/checkShield","checkShield() Exception："+e)}}function fe(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]}function ge(e,t){var n=!t&&ce(e.funcPrame),o=!0;if(!n&&e&&Array.isArray(e.ajaxPrame)&&0<e.ajaxPrame.length){e.ajaxPrameIsArray=!0;for(var i=0;i<e.ajaxPrame.length;i++)R[e.ajaxPrame[i].hasAjax]||(o=!1,e.ajaxPrame[i].hasAjaxSend||(pe(e.ajaxPrame[i]),e.ajaxPrame[i].hasAjaxSend=!0))}else n||R[e.ajaxPrame.hasAjax]||(o=!1,e.ajaxPrame.hasAjaxSend||(pe(e.ajaxPrame),e.ajaxPrame.hasAjaxSend=!0));o?we(e.funcList,e.funcPrame):function e(t,n){var o=n||0;var i=!0;if(t.ajaxPrameIsArray){for(var a=0;a<t.ajaxPrame.length;a++)if(!R[t.ajaxPrame[a].hasAjax]){i=!1;break}}else i=R[t.ajaxPrame.hasAjax];t.funcList&&0<t.funcList.length&&(i?we(t.funcList,t.funcPrame):setTimeout(function(){++o<15?e(t,o):we(t.funcList,t.funcPrame)},100))}(e)}function we(e,t){if(1==e.length&&"[object Function]"===Object.prototype.toString.apply(e))e(t);else for(var n=0;n<e.length;n++)e[n](t)}function ve(){try{var e,t,n=navigator.userAgent;if(H.sideDownAppConfigData){if((e=H.sideDownAppConfigData).closeUa){t=e.closeUa.split("|");for(var o=0,i=t.length;o<i;o++)if(""!=t[o].trim()&&-1<n.indexOf(t[o].trim()))return}!function(e){var t,n,o=e.sideDownAppConfigData;try{if(o.jumpOpt&&(n=o.jumpOpt),!(t=document.getElementById("imk2Side"))){(t=document.createElement("div")).id="imk2Side","position: fixed;  z-index: 9999; background-repeat: no-repeat; -webkit-background-size: cover; background-size: cover; -webkit-box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; -webkit-border-radius: 6PX; border-radius: 6PX; transform: scale(0); transition: 800ms cubic-bezier(.17,.67,.72,1.49);  transform-origin: center;",t.setAttribute("style","position: fixed;  z-index: 9999; background-repeat: no-repeat; -webkit-background-size: cover; background-size: cover; -webkit-box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; -webkit-border-radius: 6PX; border-radius: 6PX; transform: scale(0); transition: 800ms cubic-bezier(.17,.67,.72,1.49);  transform-origin: center;"),t.style.right="calc("+o.positionX+" - "+o.width+" - 5px)",t.style.top=o.positionY,t.style.width=o.width,t.style.height=o.width,document.body.appendChild(t);var i={domId:"#imk2Side",lineWidth:5,base:0,skew:"135deg",lineColor:"rgba(255, 255, 255, .3)",intervalTime:17,time:"3",bgImage:o.iconUrl},a=new CommmonLightLine(i);a.play(),t.style.transform="scale(1)";var r=window.getComputedStyle(t,null).left;(r=r.replace("px",""))<=0&&(t.style.right=document.documentElement.clientWidth-t.offsetWidth-5+"PX")}(function(){this.addEventListener("touchmove",function(e){e.preventDefault(e),e.stopPropagation(),this.style.transition="";var t=0<=e.changedTouches[0].clientX&&e.changedTouches[0].clientX<document.documentElement.clientWidth-this.offsetWidth,n=0<=e.changedTouches[0].clientY&&e.changedTouches[0].clientY<document.documentElement.clientHeight-this.offsetHeight;(t||n)&&(this.style.right="auto",this.style.left=e.changedTouches[0].clientX+"px",this.style.top=e.changedTouches[0].clientY+"px")}),this.addEventListener("touchend",function(){var e=this.getBoundingClientRect().left+this.offsetWidth/2;document.documentElement.clientWidth/2>=e?this.style.left="5px":this.style.left=document.documentElement.clientWidth-this.offsetWidth-5+"px";var t=this.getBoundingClientRect(),n=document.documentElement.clientHeight-this.offsetHeight-5;t.top<=0?this.style.top="5px":t.top>=n&&(this.style.top=n+"px");var o=document.documentElement.clientWidth-this.offsetWidth-5;t.left<=0?this.style.left="5px":t.left>=o&&(this.style.left=o+"px"),this.style.transition="left 50ms ease-in"})}).apply(t,null);var s=ye();$.downloadAppPlugIn({openAppBtnId:"imk2Side",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:s,msf_type:"click",downAppURl:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m&"+n,downAppIos:"//wqs.jd.com/downloadApp/imk.html?"+n,downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850"+n,downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8"+n,downAppIosPage:"//wqs.jd.com/downloadApp/imk.html?"+n}),o.pingData&&t&&t.addEventListener("click",function(){ue(o.pingData.eventId)})}catch(e){console.error(e)}}(H)}}catch(e){}}function ye(){var e,t,n={};switch(location.host){case"shop.m.jd.com":n={category:"jump",des:"jshopMain",shopId:Ee(location.href).shopId,sourceType:"showside",sourceValue:"true"};break;case"item.m.jd.com":e="",(t=location.pathname.split("/"))&&0<t.length&&(e=(e=t[t.length-1]).replace(".html","")),n={category:"jump",des:"productDetail",skuId:e,sourceType:"showside",sourceValue:"true"};break;case"h5.m.jd.com":n={action:"to",category:"jump",des:"getCoupon",url:encodeURIComponent("http://h5.m.jd.com/active/download/downLoadAppIOSMPage.html"),sourceType:"showside",sourceValue:"true"};break;case"pro.m.jd.com":n={category:"jump",des:"m",url:encodeURIComponent(location.href),sourceType:"showside",sourceValue:"true"};break;case"sale.jd.com":n={category:"jump",des:"DM",dmurl:location.href,sourceType:"showside",sourceValue:"true"};break;case"ms.m.jd.com":n={category:"jump",des:"seckill",sourceType:"showside",sourceValue:"true"};break;case"coupon.m.jd.com":n={category:"jump",des:"couponCenter",sourceType:"showside",sourceValue:"true"}}return n}function Ae(e){if(!("b"==f&&IMKTOOLS.isInM_item()||ce(e,!0))){if(H.msf_type&&"auto"==H.msf_type&&e.cookieFlag&&e.autoOpenIntervalTime?cookieName="autoOpenApp_downCloseDate_"+e.cookieFlag:(cookieName="autoOpenApp_downCloseDate_"+H.msf_type,e.autoOpenIntervalTime=H.cooldown_time),e.autoOpenIntervalTime&&(document.domain.indexOf(".m.jd.com")<0&&"m.jd.com"!=document.domain?Ie(cookieName,e.autoOpenIntervalTime):(Q(cookieName,Date.now()+"_"+e.autoOpenIntervalTime,60,"/",".m.jd.com"),Q(cookieName,Date.now()+"_"+e.autoOpenIntervalTime,60,"/","m.jd.hk"))),_e(e),e&&e.M_sourceFrom&&"mxz"==e.M_sourceFrom&&(e.autoOpenAppEventParam?e.autoOpenAppEventParam=e.autoOpenAppEventParam+"_other_"+window.location.hostname:e.autoOpenAppEventParam="other_"+window.location.hostname),ue(e.autoOpenAppEventId,e.autoOpenAppEventParam),e.msf_type=H.msf_type,e.autoOpenAppCallback){var t=e.autoOpenAppCallbackSource?e.autoOpenAppCallbackSource:null;e.autoOpenAppCallback.call(this,t)}M?te(e):oe(e)}}function Ce(e){e&&s<=e&&(b=!0)}function _e(e){e&&e.kepler_param&&(q.keplerParamJson=e.kepler_param),q.keplerParamJson&&ue("MDownLoadFloat_ArouseParam",q.keplerParamJson)}function be(e){K.isUniversalLinksOs&&K.isUniversalLinksUa&&!e.noJdApp&&e.universalLinksUrl&&H.use_universallinks&&(K.isUseUniversalLinks=!0)}function ke(e){window.IMK2_COMMON_OPTION.imk2OpenAppType=e}function xe(){return"1"==window.IMK2_COMMON_OPTION.imk2OpenAppType}function Ie(e,t){try{var n=[];n.push('"'+e+'":"'+Date.now()+"_"+t+'"'),o={url:"//mapi.m.jd.com/cookie/addCookie.action?isNewVersion=1&cookiePrame={"+n.join(",")+"}",callback:function(){}},i=document.createElement("script"),a=function(){var e,t;(t=(e=i).parentNode)&&t.removeChild(e),delete window.MAuthentication},r=function(){a()},window.MAuthentication=function(e){o.callback.call(this,e),a()},i.onerror=function(){r()},i.onload=function(){r()},i.src=o.url+"&callbackName=MAuthentication",document.getElementsByTagName("head")[0].appendChild(i)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/addCookieByJsonp","addCookieByJsonp() Exception："+e)}var o,i,a,r}function Se(e){!function(){var e=document.getElementsByTagName("head");if(e&&e[0]){var t=document.createElement("style");t.innerHTML="\n             .carousel-wrapper{\n                width: 100%;\n                overflow: hidden;\n                position: relative;\n                height: 200px;\n                box-sizing: border-box;\n    \n            }\n            .carousel{\n                position: absolute;\n                z-index: 1;\n                left: 0;\n                top: 0;\n                padding: 0;\n                margin: 0;\n                height: 100%;\n                list-style: none;\n                box-sizing: border-box;\n    \n            }\n            .carousel li{\n                float: left;\n                position: absolute;\n                z-index: 1;\n                left: 0;\n                top: 0;\n                height: 100%;\n                box-sizing: border-box;\n    \n                /*border: 1px solid red;*/\n            }\n    \n            .m-carousel-item .m-carousel-item-col {\n                float: left;\n                width: 25%;\n                line-height: 45px;\n                height: 45px;\n                box-sizing: border-box;\n                text-align: center;\n                box-sizing: border-box;\n            }\n    \n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(1){\n                width: 8%;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(2){\n                width: 10%;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(3) {\n                width: 57%;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                font-size: 14px;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(4){\n                width: 25%;\n                background-color: #F63515;\n                font-size: 14px;\n                color: #fff;\n                letter-spacing: 0;\n    \n            }\n    \n            .m-carousel-circle {\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                z-index: 2;\n                padding: 0;\n                margin: 0;\n                list-style: none;\n                width: 100%;\n                background-color: transparent;\n                box-sizing: border-box;\n                padding: 3px 0;\n                text-align: center;\n                font-size: 0;\n                box-sizing: border-box;\n            }\n    \n            .m-carousel-circle .m-carousel-circle-item {\n                display: inline-block;\n                width: 3px;\n                height: 3px;\n                box-sizing: border-box;\n                border-radius: 50%;\n                margin: 0 3px;\n                box-sizing: border-box;\n            }\n    \n    \n    \n            .style-a .carousel li{\n                background-color: #333;\n                color: #fff;\n            }\n            .style-a .m-carousel-circle .m-carousel-circle-item{\n                background-color: #5C5C5C;\n            }\n            .style-a .m-carousel-circle .item-active{\n                background-color: #E5E5E5 !important;\n            }\n    \n    \n            .style-b .carousel li{\n                background-color: #fff;\n                color: #000;\n            }\n            .style-b .m-carousel-circle .m-carousel-circle-item{\n                background-color: #5C5C5C;\n            }\n            .style-b .m-carousel-circle .item-active{\n                background-color: #E5E5E5 !important;\n            }\n            .style-b .m-carousel-item .m-carousel-item-col:nth-child(4) {\n                width: 22%;\n                height: 30px;\n                line-height: 30px;\n                margin: 8px 1% 0 0;\n                border-radius: 5px;\n            }\n            ",e[0].appendChild(t)}}(),function(e){var t=[],n="a",o=[],i=0;if(H.carouselDownAppConfigData){n=1==H.carouselDownAppConfigData.styleScheme?"a":"b",i=(o=H.carouselDownAppConfigData.slides?H.carouselDownAppConfigData.slides:[]).length,t.push('<ul class="carousel">');for(var a=0;a<i;a++)t.push('    <li class="m-carousel-item imk2-slide">'),t.push('        <div class="m-carousel-item-col imk2-btn-close" id="m_common_tip_x_'+a+'" style="display: flex; align-items: center; justify-content: center;">'),t.push('            <img src="//m.360buyimg.com/mobilecms/jfs/t19480/10/1439571805/820/787bec2c/5ac9d730N04e6d766.png" alt="京东" style="width: 10px; vertical-align: middle;  margin-top: 0px">'),t.push("        </div>"),t.push('        <div class="m-carousel-item-col" style="display: flex;  align-items: center; justify-content: center;"> '),t.push('            <img src="'+o[a].appLogo+'" alt="京东" style="width: 30px; vertical-align: middle; margin-top: 0px;"/>'),t.push("        </div>"),t.push('        <div class="m-carousel-item-col" style="padding-top: 2px">'+o[a].ad+"</div>"),t.push('        <div class="m-carousel-item-col open-app-btn" style="padding-top: 2px" id="m_common_tip_trynow_'+a+'">'+o[a].openBtn.txt+"</div>"),t.push("    </li>");if(t.push("</ul>"),o&&1<o.length){t.push('<ul class="m-carousel-circle">');for(var r=0;r<i;r++)0==r?t.push('    <li class="m-carousel-circle-item item-active"></li>'):t.push('    <li class="m-carousel-circle-item"></li>');t.push("</ul>")}var s=document.getElementById(e.tipId),l=document.createElement("div");l.id=e.tipId+"_div",l.classList.add("carousel-wrapper"),l.innerHTML=t.join(" "),s.appendChild(l),s.classList.add("style-"+n)}}(e);var t=H.carouselDownAppConfigData.slides,n=!1;t&&1==t.length&&(n=!0),new mCarouselNew({warpperId:"#m_common_tip_div",intervel:3500,transitionTime:500,carouselHeight:45,stopCarousel:n}).start()}function je(e){var t,n,o;if(("m.jd.com"===location.host||"beta-m.m.jd.com"===location.host)&&(-1<navigator.userAgent.indexOf("UCBrowser")||-1<navigator.userAgent.indexOf("MiuiBrowser")))return"";if(S)return"";if(e&&(e.downloadAppPlugIn=e.downloadAppPlugIn?e.downloadAppPlugIn:{},e.downloadAppPlugIn.openAppBtnId=e.tipId+"_trynow",e.downloadAppPlugIn.closePanelBtnId=e.tipId+"_x",e.downloadAppPlugIn.closePanelId=e.tipId+"_div",!ce(ee(e.downloadAppPlugIn)))){if(H.fixedSideLayerGray){var i=document.getElementById("imk2FixedSide");if(!i){(i=document.createElement("div")).id="imk2FixedSide";var a="position: fixed;  z-index: 999; right: 0; height: 30px; line-height: 30px; background: #E93B3D; border-radius: 15px 0 0 15px; color: #FFF; font-size: 12px; padding: 0 27px 0 10px;";"shop.m.jd.com"==location.host?a+="top: 200px;":"item.m.jd.com"==location.host?a+="top: 90px;":a+="top: 58px;",i.setAttribute("style",a);var r=document.createTextNode("打开京东APP");i.appendChild(r);var s=document.createElement("span");s.setAttribute("style","position: absolute; right: 12px; top: 11px; transform: translate(0, -50%); width: 6px; height: 6px; border-top: #FFF 2px solid;border-right: #FFF 2px solid; transform: rotate(45deg);"),i.appendChild(s),document.body.appendChild(i),V(e.downloadAppPlugIn.openAppBtnId="imk2FixedSide","click",function(){e.onClickTrynow&&e.onClickTrynow.call(this)}),e.callFunShowTip&&e.callFunShowTip.call(this);var l=e.downloadAppPlugIn.downAppURl||"",c=q.keplerParamJson;l=(l=0<=l.indexOf("M_sourceFrom")?l:l+"&M_sourceFrom="+e.downloadAppPlugIn.M_sourceFrom).indexOf("isneworold")<0&&H.isNewUser?l+"&isneworold=new":l,c&&c.source&&c.channel&&(l=0<=(l=0<=l.indexOf("kplsource")?l:l+"&kplsource="+c.source).indexOf("kplchannel")?l:l+"&kplchannel="+c.channel),e.downloadAppPlugIn.downAppURl=l,Te(e.downloadAppPlugIn)}}else if(void 0===H.carouselDownAppConfigData){var d=document.querySelector('[href*="commonHeader.min.css"]'),p=document.querySelector('[href$="imk_component.min.css"]');if(!d&&!p){var m=document.querySelector("head");(A=document.createElement("link")).setAttribute("rel","stylesheet"),A.setAttribute("type","text/css"),A.setAttribute("href","//wq.360buyimg.com/fd/h5/wxsq_dev/m_common/css/imk_component.min.css"),m.appendChild(A)}var u=(o={downloadAppContentBtn:"立即打开",downloadAppContentBtnStyle:n="",downloadAppContentDown:"新人领188元红包",downloadAppContentDownStyle:"",downloadAppContentUP:"打开京东APP购物",downloadAppContentUpStyle:"",downloadAppImg:"//img11.360buyimg.com/jdphoto/s640x100_jfs/t25471/63/982804166/2377/f8f633b9/5b850e48Nfd4e116b.png",downloadApplogo:"//img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"},(t=e).downAppConfigData&&H.downAppConfigData&&H.downAppConfigData.hasOwnProperty("highPriority")&&!H.downAppConfigData.highPriority||t.downAppConfigData&&!H.downAppConfigData?(o.downloadAppContentBtn=t.downAppConfigData.downloadAppContentBtn||"立即打开",o.downloadAppContentBtnStyle=t.downAppConfigData.downloadAppContentBtnStyle||"",o.downloadAppContentDown=t.downAppConfigData.downloadAppContentDown||"新人领188元红包",o.downloadAppContentDownStyle=t.downAppConfigData.downloadAppContentDownStyle||"",o.downloadAppContentUP=t.downAppConfigData.downloadAppContentUP||"打开京东APP购物",o.downloadAppContentUpStyle=t.downAppConfigData.downloadAppContentUpStyle||"",o.downloadAppImg=t.downAppConfigData.downloadAppImg||"//img11.360buyimg.com/jdphoto/s640x100_jfs/t25471/63/982804166/2377/f8f633b9/5b850e48Nfd4e116b.png",o.downloadApplogo=t.downAppConfigData.downloadApplogo||"//img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"):H.downAppConfigData&&(o.downloadAppContentBtn=H.downAppConfigData.downloadAppContentBtn||"立即打开",o.downloadAppContentBtnStyle=H.downAppConfigData.downloadAppContentBtnStyle||"",o.downloadAppContentDown=H.downAppConfigData.downloadAppContentDown||"新人领188元红包",o.downloadAppContentDownStyle=H.downAppConfigData.downloadAppContentDownStyle||"",o.downloadAppContentUP=H.downAppConfigData.downloadAppContentUP||"打开京东APP购物",o.downloadAppContentUpStyle=H.downAppConfigData.downloadAppContentUpStyle||"",o.downloadAppImg=H.downAppConfigData.downloadAppImg||"//img11.360buyimg.com/jdphoto/s640x100_jfs/t25471/63/982804166/2377/f8f633b9/5b850e48Nfd4e116b.png",o.downloadApplogo=H.downAppConfigData.downloadApplogo||"//img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"),t.location&&(n=' style = "'+t.location+'"'),'\t<div  id="'+t.tipId+'_div" '+n+' class="download-pannel download-noBg">\t    <div class="pannel-bg"><img src="'+o.downloadAppImg+'"></div>\t    <div id="'+t.tipId+'_x" class="download-close"><img src="//img11.360buyimg.com/jdphoto/s32x32_jfs/t24304/359/2532278428/1657/ed614023/5b850f6fN747fe6a5.png"></div>\t    <div class="download-logo"><img src="'+o.downloadApplogo+'"></div>\t    <div class="download-txt">\t            <span class="download-content">\t                <em style="'+o.downloadAppContentUpStyle+'" class="content-up">'+o.downloadAppContentUP+'</em>\t                <em style="'+o.downloadAppContentDownStyle+'" class="content-down">'+o.downloadAppContentDown+'</em>\t            </span>\t    </div>\t    <div id="'+t.tipId+'_trynow" class="download-action">\t        <span style="'+o.downloadAppContentBtnStyle+'" class="font-large">'+o.downloadAppContentBtn+"</span>\t    </div>\t</div>");if(document.getElementById(e.tipId).innerHTML=u,"m.jd.com"==location.host){var h=document.querySelector("#m_common_tip_div");h&&(h.style.height="50PX")}ue("MDownLoadFloat_TopOldExpo",location.host),V(e.tipId+"_x","click",function(){e.onClickTipX&&e.onClickTipX.call(this)}),V(e.tipId+"_trynow","click",function(){e.onClickTrynow&&e.onClickTrynow.call(this)}),e.callFunShowTip&&e.callFunShowTip.call(this);l=e.downloadAppPlugIn.downAppURl||"",c=q.keplerParamJson;l=(l=0<=l.indexOf("M_sourceFrom")?l:l+"&M_sourceFrom="+e.downloadAppPlugIn.M_sourceFrom).indexOf("isneworold")<0&&H.isNewUser?l+"&isneworold=new":l,c&&c.source&&c.channel&&(l=0<=(l=0<=l.indexOf("kplsource")?l:l+"&kplsource="+c.source).indexOf("kplchannel")?l:l+"&kplchannel="+c.channel),e.downloadAppPlugIn.downAppURl=l,Te(e.downloadAppPlugIn)}else{Se(e),e.callFunShowTip&&e.callFunShowTip.call(this);var f=H.carouselDownAppConfigData.slides;ue("MDownLoadFloat_TopNewExpo",location.host+"_"+f.length);for(var g=document.querySelectorAll("#m_common_tip_div .imk2-btn-close"),w=document.querySelectorAll("#m_common_tip_div .open-app-btn"),v=g.length,y=0;y<v;y++)V(e.tipId+"_x_"+y,"click",function(){e.onClickTipX&&e.onClickTipX.call(this)}),g[y].addEventListener("click",function(){H.isnotWriteOpenAppCookie=!1,le(H,"cooldown_time"),document.querySelector("#"+e.tipId+"_div").style.display="none",ue("MDownLoadFloat_Close")}),V(e.tipId+"_trynow_"+y,"click",function(){e.onClickTrynow&&e.onClickTrynow.call(this)}),e.downloadAppPlugIn.openAppBtnId=e.tipId+"_trynow_"+y,Te(e.downloadAppPlugIn),f[y].openBtn.pingData.eventId&&w[y].setAttribute("report-eventid",f[y].openBtn.pingData.eventId),f[y].openBtn.pingData.eventParas&&w[y].setAttribute("report-eventparam",f[y].openBtn.pingData.eventParas),f[y].openBtn.pingData.eventLevel&&w[y].setAttribute("report-eventlevel",f[y].openBtn.pingData.eventLevel)}m=document.querySelector("head");if(I){if("a"!=H.wxDownloadSchema)return;if(!x)return;var A,C=location.href;if(k.action||(0<C.indexOf("?")?C+="&action=openBrowser":C+="?action=openBrowser"),history.replaceState(null,"imk page",C),!document.querySelector('[href*="imk_wx_tip.min.css"]'))(A=document.createElement("link")).setAttribute("rel","stylesheet"),A.setAttribute("type","text/css"),A.setAttribute("href","//wq.360buyimg.com/fd/h5/wxsq_dev/m_common/css/imk_wx_tip.min.css"),m.appendChild(A);if(!document.querySelector("#imkWxDownloadTipContainer")){var _=document.createElement("div");_.setAttribute("id","imkWxDownloadTipContainer"),_.setAttribute("class","imk_tip_container"),document.body.appendChild(_),_.innerHTML='<div class="tip_container"><div class="question">在微信中无法打开？</div><div class="solution">点击右上角图标&nbsp;<i class="arrow"></i>&nbsp;选择在浏览器&nbsp;<i class="browser"></i>&nbsp;中打开</div></div>',V("imkWxDownloadTipContainer","click",function(e){"imk_tip_container"==(e.srcElement||e.target).className&&(document.querySelector("#imkWxDownloadTipContainer").style.display="none")})}}else{if("openbrowser"!=k.action||!x)return;if(window.imkDownloadAppURl=e.downloadAppPlugIn.downAppURl,!document.querySelector('[src*="imk_download_pannel.min.js"]')){var b=document.createElement("script");b.setAttribute("src","//wq.360buyimg.com/js/common/dest/wq.imk.downloadPannel.min.js"),m.appendChild(b)}}}}function Oe(e,t){-1<location.href.indexOf("showxintent=")&&alert("唤起类型："+e+", 唤起参数："+JSON.stringify(t))}function Te(e,t){if(!S){(U=e).msf_type,e.msf_type="imk2FixedSide"==e.openAppBtnId?"side_click":"click",Oe("click",e);var n=ee(e);(function(e,n){e.openAppBtnId&&document.querySelector("#"+e.openAppBtnId)&&((i[e.openAppBtnId]=e)&&e.M_sourceFrom&&"mxz"==e.M_sourceFrom&&(e.openAppEventParam?e.openAppEventParam=e.openAppEventParam+"_other_"+window.location.hostname:e.openAppEventParam="other_"+window.location.hostname),me(e.openAppBtnId,e.openAppEventId,e.openAppEventParam),V(e.openAppBtnId,"click",function(){var e=this.getAttribute("id"),t=i[e];D[e]=t,n||re(t)}))})(L=n,t),ge({ajaxPrame:[z,X],funcList:[be,se,he],funcPrame:n})}}function Pe(e,t,n,o,i){try{var a=e+"="+escape(t);if(""!=n){var r=new Date;r.setTime(r.getTime()+1e3*n),a+=";expires="+r.toGMTString()}""!=o&&(a+=";path="+o),""!=i&&(a+=";domain="+i),document.cookie=a}catch(e){}}function Ue(){var e=E(G.mediaTimes),t=E(G.stepTime),n=parseInt(e),o=parseInt(t);if(n&&o&&0<n&0<o&&n%o==0){var i=ye();$.downloadAppPlugInOpenApp({inteneUrlParams:i})}}function Le(){var e=document.createElement("div");e.setAttribute("id","_aDChannelMark"),e.style.position="fixed",e.style.zIndex=1e5,e.style.width="1px",e.style.height="1px",e.style.backgroundColor="rgba(0, 0, 255 , .5)",e.style.left="2px",e.style.bottom="2px",document.body.appendChild(e)}function De(){var e,t,n=H.mediaConfigData&&H.mediaConfigData.stepTimesLifeTime?H.mediaConfigData.stepTimesLifeTime:3600;try{var o=function(e){var t={},n=e.split("?")[1];if(n)for(var o=n.split("&"),i=0;i<o.length;i++){var a=o[i].split("=");t[a[0].toLocaleLowerCase()]=a[1]}return t}(location.href);if(o.ad_od&&"0"==o.ad_od&&o.steptime)if(e=E(G.firstAdChannelURL))if(unescape(e)==location.href){var i=E(G.mediaTimes);Pe(G.mediaTimes,parseInt(i)+1,n,"/",".jd.com"),Pe(G.stepTime,o.steptime,n,"/",".jd.com"),Le(),Ue()}else Pe(G.firstAdChannelURL,location.href,n,"/",".jd.com"),Pe(G.mediaTimes,1,n,"/",".jd.com"),Pe(G.stepTime,o.steptime,n,"/",".jd.com"),Le();else Pe(G.firstAdChannelURL,location.href,n,"/",".jd.com"),Pe(G.mediaTimes,1,n,"/",".jd.com"),Pe(G.stepTime,o.steptime,n,"/",".jd.com"),Le();else{i=E(G.mediaTimes);var a=E(G.stepTime);i&&a?(Pe(G.mediaTimes,parseInt(i)+1,n,"/",".jd.com"),Pe(G.stepTime,a,n,"/",".jd.com"),Le(),Ue()):(t=document.getElementById("_aDChannelMark"))&&t.remove()}}catch(e){console.error(e)}}function Ee(e){var t={},n=e.split("?")[1];if(n)for(var o=n.split("&"),i=0;i<o.length;i++){var a=o[i].split("=");t[a[0]]=a[1]}return t}a?(o=window.$,n=window.$):(o=function(e){return"object"==typeof e?e:document.querySelector(e)},window.$?n=window.$:window.$=n=o),window.onblur=function(){for(var e=0;e<r.length;e++)clearTimeout(r[e])},n.isAutoOpenJDApp=xe,n.asyncDownloadAppPlugIn=function(e){if(!S){var t=e.openAppBtnId;if(t&&D[t]){D[t]=null;var n=ee(e);re(L=n)}}},n.immediateOpenApp=function(e){S||(e.msf_type,Oe(e.msf_type="click",e),re(ee(e)))},n.downloadAppPlugIn=Te,n.downloadAppPlugInOpenApp=function(e){if(!S){ke("1"),Oe("auto",e),e.msf_type,e.msf_type="auto";var t=ee(e,!0);if(!C&&!T){var n=document.createElement("iframe");n.id=A,document.body.appendChild(n),document.getElementById(A).style.display="none",document.getElementById(A).style.width="0px",document.getElementById(A).style.height="0px",C=!0}ge({ajaxPrame:[z,X],funcList:Ae,funcPrame:t},!0)}},n.downloadAppLayerConfigData=function(e){S||ge({ajaxPrame:[z,X],funcList:[je],funcPrame:e})};var Be=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);return{immediateExecutionFun:function(){S||ge({ajaxPrame:[X],funcList:[ve,De],funcPrame:{}},!0)}}}(),window.imk2Handler.immediateExecutionFun(),function(e,t){var n=function(r){var e=function(e,t){t=t||{},this.init(e,t)};return e.prototype={init:function(e,t){var n=this;this.isAndroid=!!navigator.userAgent.match(/(Android);?[\s\/]+([\d.]+)?/),this.isIOS=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),this.options=t,this.configCenter=t.configCenter||{},this.param=e,this.tryTime=0,this.scheme="openapp.jdmobile",this.appId="wxe75a2e68877315fb",this.packageName="com.jingdong.app.mall",this.packageUrl="openApp.jdMobile://",this.configUrl="//wq.jd.com/bases/jssdk/GetWxJsApiSign?url="+encodeURIComponent(location.href.split("#")[0])+"&callback=imkGetWxJsApiSignCallback",IMKTOOLS.UMPService.umpBiz({operation:"1",result:n.isAndroid?"1":"2",source:"0",message:"loadWxJsSdk"}),IMKTOOLS.isInM_item()&&r.JD&&JD.wxapi&&JD.wxapi.ready&&!r.GLOBAL_FORBIT_WXAPI?JD.wxapi.ready(function(){n.readyCall()}):r.IMK2_CONFIG_DATA?this.openApp(r.IMK2_CONFIG_DATA):r.wx?this.requestConfig():this.loadWxJsSdk()},loadWxJsSdk:function(){var t=this,n="//res.wx.qq.com/open/js/jweixin-1.4.0.js";if("function"==typeof define&&(define.amd||define.cmd))if("function"==typeof require)try{require([n],function(e){r.wx=e,t.requestConfig()})}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","amd or cmd load -- wxJsSdk( "+n+" ) load fail!!! , e = "+e+", CurrentURL = "+location.href)}else try{seajs.use(n,function(e){r.wx=e,t.requestConfig()})}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","amd or cmd load -- wxJsSdk( "+n+" ) load fail!!! , e = "+e+", CurrentURL = "+location.href)}else{var e=document.createElement("script");e.src=n,document.body.appendChild(e),e.onload=e.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){if("undefined"==typeof wx)return void IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","script tag load ---  wxJsSdk( "+n+" ) load fail!!! CurrentURL = "+location.href);t.requestConfig(),e.onload=e.onreadystatechange=null}}}},requestConfig:function(){var t=this;IMKTOOLS.UMPService.umpBiz({operation:"2",result:t.isAndroid?"1":"2",source:"0",message:"requestConfig"}),t.JSONP(t.configUrl,function(e){r.IMK2_CONFIG_DATA=e,t.openApp(e)})},openApp:function(e){var t,n,o=this;IMKTOOLS.UMPService.umpBiz({operation:"3",result:o.isAndroid?"1":"2",source:"0",message:"setWxConfig"}),wx.config({beta:!0,debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","getInstallState","launchApplication"]}),wx.ready((n=!(t=function(){IMKTOOLS.UMPService.umpBiz({operation:"4",result:o.isAndroid?"1":"2",source:"0",message:"checkLaunchApplicationAuth"}),wx.checkJsApi({jsApiList:["getInstallState","launchApplication"],success:function(e){e&&e.errMsg&&-1==e.errMsg.indexOf("ok")&&IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/checkJsApi","checkFailed, res = "+o.reportStringify(e)+", CurrentURL = "+location.href),!e||!e.checkResult||e.checkResult.getInstallState&&e.checkResult.launchApplication||IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/checkJsApi","api checkFailed, res = "+o.reportStringify(e)+", CurrentURL = "+location.href),o.readyCall(),e&&e.checkResult&&e.checkResult.getInstallState&&e.checkResult.launchApplication||IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/check/result","wechat checkJsApi method：falil!  res = "+JSON.stringify(e)+" ,   CurrentURL = "+location.href)}})}),function(){n||(n=!0,t(),setTimeout(function(){n=!1},1e3))})),wx.error(function(e){if(e.errMsg&&-1<e.errMsg.indexOf("invalid url domain"))return IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/other","invalid url domain, CurrentURL = "+location.href,{badJsfrom:"invalidUrlDomain"});IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/result","wechat config method：falil!  res = "+o.reportStringify(e)+" ,   CurrentURL = "+location.href)})},readyCall:function(){var n=this;IMKTOOLS.UMPService.umpBiz({operation:"5",result:n.isAndroid?"3":"4",source:"0",message:"checkAppInstall"}),n.wxGetInstallState({haInstalledCb:function(e){IMKTOOLS.UMPService.umpBiz({operation:"6",result:n.isAndroid?"1":"2",source:"0",message:"launchApplication"}),n.appVersion=e&&e.versionName||"";var t="scheme";0==n.configCenter.wechetSchemeSw&&n.isAndroid&&e&&"6.5.5"<=e.versionName&&(t="appId"),t=n.wxa_abtest(t),t=n.iosAppidGray(t),n.wxLaunchApplication(t,{uncaughtFailCb:function(){$.isAutoOpenJDApp()||n.options.NoJumpDownLoadPage||n.showDownloadPageInWx()}})},notInstallCb:function(){IMKTOOLS.UMPService.umpBiz({operation:"7",result:n.isAndroid?"1":"2",source:"0",message:"notInstallApp"}),n.options.NoJumpDownLoadPage||n.showDownloadPageInWx()}})},wxGetInstallState:function(t){t=t||{};var n=this,e={packageName:n.packageName,packageUrl:n.packageUrl};wx.invoke("getInstallState",e,function(e){e.err_msg&&-1<e.err_msg.indexOf("get_install_state:yes")?t.haInstalledCb&&t.haInstalledCb(e):e.err_msg&&function(e){for(var t=["fail_no permission to execute","access_denied","fail_the permission value is offline verifying"],n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e.err_msg)?IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/permission","res = "+n.reportStringify(e)+", appid: "+n.appId+" , CurrentURL = "+location.href,{badJsfrom:e.err_msg}):e.err_msg&&-1<e.err_msg.indexOf("get_install_state:no")?t.notInstallCb&&t.notInstallCb(e):(n.getInstallStateFail=!0,t.haInstalledCb&&t.haInstalledCb(e),IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/invoke/result","wechat getInstallState method res.err_msg:"+e.err_msg+", RES:"+n.reportStringify(e)+", CurrentURL = "+location.href+", args: "+n.reportStringify(e)))})},wxLaunchApplication:function(t,n){n=n||{};var o=this,e={},i=o.options.splitStr+encodeURIComponent(o.param);if("appId"===t){this.isIOS;var a=o.scheme+"://"+i;e={appID:o.appId,messageExt:a,extInfo:a},IMKTOOLS.UMPService.umpBiz([9,o.isAndroid?2:4,"appId"],!0)}else e={appID:o.scheme,parameter:i},IMKTOOLS.UMPService.umpBiz([9,o.isAndroid?1:3,"scheme"],!0);wx.invoke("launchApplication",e,function(e){if(e.err_msg&&-1<e.err_msg.indexOf("fail")){if(!o.appIdLaunchFail&&"appId"===t)return o.appIdLaunchFail=!0,void o.wxLaunchApplication("scheme",n);e.err_msg&&-1<e.err_msg.indexOf("over 1024")?IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/launchResult","res = "+o.reportStringify(e)+"paramLength: "+o.param.length+", type: "+t+" , appVersion = "+o.appVersion+" , CurrentURL = "+location.href):e.err_msg&&-1<e.err_msg.indexOf("fail_no permission to execute")?(o.tryTime++,0<o.tryTime&&o.tryTime<4?setTimeout(function(){o.readyCall()},100):IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/permission","res = "+o.reportStringify(e)+", appid: "+o.appId+", type: "+t+" , appVersion = "+o.appVersion+" , CurrentURL = "+location.href)):(IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/launchResult","res = "+o.reportStringify(e)+", type: "+t+" , appVersion = "+o.appVersion+" , CurrentURL = "+location.href),n.uncaughtFailCb&&n.uncaughtFailCb(e))}else IMKTOOLS.UMPService.umpBiz({operation:"8",result:o.isAndroid?"1":"2",source:"0",message:"wechat auto open ：ok!  res = "+JSON.stringify(e)+" ,   CurrentURL = "+location.href}),o.getInstallStateFail&&IMKTOOLS.UMPService.umpBiz({operation:"20",result:o.isAndroid?"1":"2",source:"0",message:"ua = "+navigator.userAgent+", type: "+t+" , appVersion = "+o.appVersion+", CurrentURL = "+location.href}),o.appIdLaunchFail&&IMKTOOLS.UMPService.umpBiz({operation:"21",result:o.isAndroid?"1":"2",source:"0",message:"ua = "+navigator.userAgent+", type: "+t+" , appVersion = "+o.appVersion+", CurrentURL = "+location.href})})},showDownloadPageInWx:function(){setTimeout(function(){navigator.userAgent.match(/(Android);?[\s\/]+([\d.]+)?/)?location.href=r.IMK2_COMMON_OPTION.imk2AppDownloadURL:location.href=r.IMK2_COMMON_OPTION.imk2AppDownloadURL4Apple},200)},compressArgs:function(e){var t=this.options.splitStr,n=1005,o=["jda","jdv","mt_subsite","mt_xid","unpl"];if((i=e).length>=n&&this.isIOS){var i;0==(i=i.trim()).indexOf(t)&&(i=i.slice(t.length)),0!==i.indexOf("{")&&(i=decodeURIComponent(i));try{var a=JSON.parse(i);return r(a,"m_param"),s(a)||r(a,"SE"),i=t+encodeURIComponent(JSON.stringify(a))}catch(e){return i}}return i;function r(e,t){var n=e[t];for(var t in n)n.hasOwnProperty(t)&&(-1!==o.indexOf(t)||s(e)||delete n[t])}function s(e){return encodeURIComponent(JSON.stringify(e)).length<n}},JSONP:function(e,t){!function(e,t){var n,o=/callback=(\w+)/.exec(e);o&&o[1]?n=o[1]:(n="jsonp_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),e=(e=e.replace("callback=?","callback="+n)).replace("callback=%3F","callback="+n));var i=document.createElement("script");i.type="text/javascript",i.src=e,i.id="id_"+n,r[n]=function(e){r[n]=void 0,function(e){var t=e.parentNode;t&&11!==t.nodeType&&t.removeChild(e)}(document.getElementById("id_"+n)),t(e)};var a=document.getElementsByTagName("head");a&&a[0]&&a[0].appendChild(i)}(e,t)},reportStringify:function(e){return JSON.stringify(e).replace(/"/g,"'")},wxa_abtest:function(e){return!this.isAndroid||!this.appVersion||this.appVersion<"7.0"?e:(this.configCenter.test.wxa_abtest&&this.addWxParams("wxa_abtest",this.configCenter.test.wxa_abtest),"a"===this.configCenter.test.wxa_abtest?"appId":"b"===this.configCenter.test.wxa_abtest?"scheme":e)},iosAppidGray:function(e){return this.isIOS&&this.configCenter.imkFrontGray&&1==this.configCenter.imkFrontGray.iosAppId?"appId":e},addWxParams:function(e,t){var n;try{n=JSON.parse(this.param)}catch(e){return void IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/other","JSON parse error in addWxParams method, CurrentURL = "+location.href,{badJsfrom:"addWxParams"})}n[e]=t,this.param=JSON.stringify(n)}},e}(e);e.wxOpenApp=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window)}}catch(e){var _imgDom=new Image;throw _imgDom.src="https://wq.jd.com/webmonitor/collect/badjs.json?Content="+encodeURIComponent("error:"+e+";pageUrl="+location.href)+"&referer="+encodeURIComponent("https://imk2.jd.com/auto/open/app/run/exception")+"&t="+Math.random(),e}